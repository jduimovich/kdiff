
      <html>
        <head>
          <title>Kustomize</title>
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <meta charset="UTF-8">
          <script defer data-domain="jduimovich" src="https://plausible.io/js/script.js"></script>
        
        </head>
        <body>
          <div id='content'>
      <h1 id="kustomize-changes-tracked-by-commits">kustomize changes tracked by commits</h1>
<h3 id="this-file-generated-at-wed-nov-27-160535-utc-2024">This file generated at Wed Nov 27 16:05:35 UTC 2024</h3>
<h2 id="repo---httpsgithubcomredhat-appstudioinfra-deploymentsgit">Repo - https://github.com/redhat-appstudio/infra-deployments.git</h2>
<h2 id="overlays-production-staging-development">Overlays: production staging development</h2>
<h2 id="showing-last-4-commits">Showing last 4 commits</h2>
<div>
<h3>1: Production changes from f55f8633 to 897a0a62 on Wed Nov 27 15:00:51 2024 </h3>  

<details> 
<summary>Git Diff (44 lines)</summary>  
<pre><code>  diff --git a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
index a2f13975..b462da0b <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
+++ b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
@@ -<span class="hljs-number">2</span>,<span class="hljs-number">13</span> +<span class="hljs-number">2</span>,<span class="hljs-number">13</span> @@ apiVersion: kustomize.config.k8s.io/v1beta1
 kind: Kustomization
 resources:
   - ../base
-  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
-  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37
+  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 images:
   - name: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
     newName: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
-    newTag: <span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+    newTag: aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 namespace: mintmaker

diff --git a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base<span class="hljs-regexp">/kustomization.yaml b/</span>components<span class="hljs-regexp">/mintmaker/</span>staging<span class="hljs-regexp">/base/</span>kustomization.yaml
index <span class="hljs-number">760</span>c86f9..b8d9cefd <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base/kustomization.yaml
+++ b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base/kustomization.yaml
@@ -<span class="hljs-number">3</span>,<span class="hljs-number">15</span> +<span class="hljs-number">3</span>,<span class="hljs-number">15</span> @@ kind: Kustomization
 resources:
 - ..<span class="hljs-regexp">/../</span>base
 - ..<span class="hljs-regexp">/../</span>base/external-secrets
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 namespace: mintmaker

 images:
 - name: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
   newName: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
-  newTag: <span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+  newTag: aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 commonAnnotations:
   argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>1: Staging changes from f55f8633 to 897a0a62 on Wed Nov 27 15:00:51 2024 </h3>  

<details> 
<summary>Git Diff (44 lines)</summary>  
<pre><code>  diff --git a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
index a2f13975..b462da0b <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
+++ b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
@@ -<span class="hljs-number">2</span>,<span class="hljs-number">13</span> +<span class="hljs-number">2</span>,<span class="hljs-number">13</span> @@ apiVersion: kustomize.config.k8s.io/v1beta1
 kind: Kustomization
 resources:
   - ../base
-  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
-  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37
+  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 images:
   - name: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
     newName: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
-    newTag: <span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+    newTag: aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 namespace: mintmaker

diff --git a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base<span class="hljs-regexp">/kustomization.yaml b/</span>components<span class="hljs-regexp">/mintmaker/</span>staging<span class="hljs-regexp">/base/</span>kustomization.yaml
index <span class="hljs-number">760</span>c86f9..b8d9cefd <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base/kustomization.yaml
+++ b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base/kustomization.yaml
@@ -<span class="hljs-number">3</span>,<span class="hljs-number">15</span> +<span class="hljs-number">3</span>,<span class="hljs-number">15</span> @@ kind: Kustomization
 resources:
 - ..<span class="hljs-regexp">/../</span>base
 - ..<span class="hljs-regexp">/../</span>base/external-secrets
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 namespace: mintmaker

 images:
 - name: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
   newName: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
-  newTag: <span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+  newTag: aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 commonAnnotations:
   argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (15 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-f55f8633/staging/components/mintmaker/staging/stone-stage-p01/kustomize.out.yaml</span>
<span class="hljs-string">493d492</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-string">&quot;pep723&quot;</span><span class="hljs-string">,</span>
<span class="hljs-number">761</span><span class="hljs-string">,767d759</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">&quot;pep723&quot;:</span> {
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">&quot;additionalBranchPrefix&quot;:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">{{baseBranch}}</span>/&quot;</span>,
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">&quot;branchPrefix&quot;:</span> <span class="hljs-string">&quot;konflux/mintmaker/&quot;</span>,
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">&quot;schedule&quot;:</span> [
<span class="hljs-string">&lt;</span>           <span class="hljs-string">&quot;after 5am on saturday&quot;</span>
<span class="hljs-string">&lt;</span>         ]
<span class="hljs-string">&lt;</span>       }<span class="hljs-string">,</span>
<span class="hljs-string">906c898</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/mintmaker:aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/mintmaker:8162b25f78b3d03c129a6a780b457b1b400775ba</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>1: Development changes from f55f8633 to 897a0a62 on Wed Nov 27 15:00:51 2024 </h3>  

<details> 
<summary>Git Diff (44 lines)</summary>  
<pre><code>  diff --git a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
index a2f13975..b462da0b <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
+++ b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/development/</span>kustomization.yaml
@@ -<span class="hljs-number">2</span>,<span class="hljs-number">13</span> +<span class="hljs-number">2</span>,<span class="hljs-number">13</span> @@ apiVersion: kustomize.config.k8s.io/v1beta1
 kind: Kustomization
 resources:
   - ../base
-  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
-  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37
+  - https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 images:
   - name: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
     newName: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
-    newTag: <span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+    newTag: aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 namespace: mintmaker

diff --git a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base<span class="hljs-regexp">/kustomization.yaml b/</span>components<span class="hljs-regexp">/mintmaker/</span>staging<span class="hljs-regexp">/base/</span>kustomization.yaml
index <span class="hljs-number">760</span>c86f9..b8d9cefd <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base/kustomization.yaml
+++ b<span class="hljs-regexp">/components/mi</span>ntmaker<span class="hljs-regexp">/staging/</span>base/kustomization.yaml
@@ -<span class="hljs-number">3</span>,<span class="hljs-number">15</span> +<span class="hljs-number">3</span>,<span class="hljs-number">15</span> @@ kind: Kustomization
 resources:
 - ..<span class="hljs-regexp">/../</span>base
 - ..<span class="hljs-regexp">/../</span>base/external-secrets
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=<span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>default?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker<span class="hljs-regexp">/config/</span>renovate?ref=aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 namespace: mintmaker

 images:
 - name: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
   newName: quay.io<span class="hljs-regexp">/konflux-ci/mi</span>ntmaker
-  newTag: <span class="hljs-number">8162</span>b25f78b3d03c129a6a780b457b1b400775ba
+  newTag: aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37

 commonAnnotations:
   argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (15 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-f55f8633/development/components/mintmaker/development/kustomize.out.yaml</span>
<span class="hljs-string">493d492</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-string">&quot;pep723&quot;</span><span class="hljs-string">,</span>
<span class="hljs-number">761</span><span class="hljs-string">,767d759</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">&quot;pep723&quot;:</span> {
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">&quot;additionalBranchPrefix&quot;:</span> <span class="hljs-string">&quot;<span class="hljs-template-variable">{{baseBranch}}</span>/&quot;</span>,
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">&quot;branchPrefix&quot;:</span> <span class="hljs-string">&quot;konflux/mintmaker/&quot;</span>,
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">&quot;schedule&quot;:</span> [
<span class="hljs-string">&lt;</span>           <span class="hljs-string">&quot;after 5am on saturday&quot;</span>
<span class="hljs-string">&lt;</span>         ]
<span class="hljs-string">&lt;</span>       }<span class="hljs-string">,</span>
<span class="hljs-string">905c897</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/mintmaker:aa4bd5f2ccee6bfc8352b8e2631cfbe9a4230b37</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/mintmaker:8162b25f78b3d03c129a6a780b457b1b400775ba</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>2: Production changes from 258a3d80 to f55f8633 on Wed Nov 27 13:45:22 2024 </h3>  

<details> 
<summary>Git Diff (1149 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 88a34ab6..aad91cf0 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -19,6 +19,16 @@</span> metadata:
   name: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+kind: Namespace</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 kind: ServiceAccount
 metadata:
   annotations:
<span class="hljs-meta">@@ -1836,6 +1846,227 @@</span> spec:
       - name: AUTOINSTALL_COMPONENTS
         value: &quot;false&quot;
 ---
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-addition">+    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+        - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+allowHostDirVolumePlugin: true</span>
<span class="hljs-addition">+allowHostIPC: false</span>
<span class="hljs-addition">+allowHostNetwork: false</span>
<span class="hljs-addition">+allowHostPID: false</span>
<span class="hljs-addition">+allowHostPorts: false</span>
<span class="hljs-addition">+allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+allowPrivilegedContainer: false</span>
<span class="hljs-addition">+allowedCapabilities: null</span>
<span class="hljs-addition">+apiVersion: security.openshift.io/v1</span>
<span class="hljs-addition">+defaultAddCapabilities: null</span>
<span class="hljs-addition">+defaultAllowPrivilegeEscalation: false</span>
<span class="hljs-addition">+forbiddenSysctls:</span>
<span class="hljs-addition">+- &#x27;*&#x27;</span>
<span class="hljs-addition">+fsGroup:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+groups: []</span>
<span class="hljs-addition">+kind: SecurityContextConstraints</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: logging-scc</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+priority: null</span>
<span class="hljs-addition">+readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+requiredDropCapabilities:</span>
<span class="hljs-addition">+- CHOWN</span>
<span class="hljs-addition">+- DAC_OVERRIDE</span>
<span class="hljs-addition">+- FSETID</span>
<span class="hljs-addition">+- FOWNER</span>
<span class="hljs-addition">+- SETGID</span>
<span class="hljs-addition">+- SETUID</span>
<span class="hljs-addition">+- SETPCAP</span>
<span class="hljs-addition">+- NET_BIND_SERVICE</span>
<span class="hljs-addition">+- KILL</span>
<span class="hljs-addition">+runAsUser:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+seLinuxContext:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+seccompProfiles:</span>
<span class="hljs-addition">+- runtime/default</span>
<span class="hljs-addition">+supplementalGroups:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+users:</span>
<span class="hljs-addition">+- system:serviceaccount:tekton-logging:vectors-tekton-logs-collector</span>
<span class="hljs-addition">+volumes:</span>
<span class="hljs-addition">+- configMap</span>
<span class="hljs-addition">+- emptyDir</span>
<span class="hljs-addition">+- hostPath</span>
<span class="hljs-addition">+- projected</span>
<span class="hljs-addition">+- secret</span>
<span class="hljs-addition">+---</span>
 apiVersion: route.openshift.io/v1
 kind: Route
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 72cfe7db..422e789d 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -17,6 +17,16 @@</span> metadata:
 ---
 apiVersion: v1
 kind: Namespace
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
<span class="hljs-addition">+kind: Namespace</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1854,6 +1864,152 @@</span> spec:
           serviceAccountName: pac-secret-manager
   schedule: &#x27;*/10 * * * *&#x27;
 ---
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+      - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: https://github.com/vectordotdev/helm-charts</span>
<span class="hljs-addition">+    targetRevision: 08506fdc01c7cc3fcf2dd83102add7b44980ee23</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-meta">@@ -1927,6 +2083,34 @@</span> spec:
 ---
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -2347,177 +2531,31 @@</span> spec:
   source: custom-operators
   sourceNamespace: openshift-marketplace
 ---
<span class="hljs-deletion">-apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-deletion">-kind: ExternalSecret</span>
<span class="hljs-addition">+apiVersion: route.openshift.io/v1</span>
<span class="hljs-addition">+kind: Route</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-deletion">-  name: s3-conf</span>
<span class="hljs-deletion">-  namespace: tekton-logging</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  dataFrom:</span>
<span class="hljs-deletion">-  - extract:</span>
<span class="hljs-deletion">-      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-deletion">-  refreshInterval: 1h</span>
<span class="hljs-deletion">-  secretStoreRef:</span>
<span class="hljs-deletion">-    kind: ClusterSecretStore</span>
<span class="hljs-deletion">-    name: appsre-vault</span>
<span class="hljs-deletion">-  target:</span>
<span class="hljs-deletion">-    creationPolicy: Owner</span>
<span class="hljs-deletion">-    deletionPolicy: Delete</span>
<span class="hljs-deletion">-    name: tekton-results-s3</span>
<span class="hljs-deletion">-    template:</span>
<span class="hljs-deletion">-      data:</span>
<span class="hljs-deletion">-        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-deletion">-        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-deletion">-        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-deletion">-        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-deletion">-        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-deletion">-kind: Application</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  name: vectors-tekton-logs-collector</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-addition">+    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-addition">+    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+  name: tekton-results</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
 spec:
<span class="hljs-deletion">-  destination:</span>
<span class="hljs-deletion">-    namespace: tekton-logging</span>
<span class="hljs-deletion">-    server: https://kubernetes.default.svc</span>
<span class="hljs-deletion">-  project: default</span>
<span class="hljs-deletion">-  source:</span>
<span class="hljs-deletion">-    path: charts/vector</span>
<span class="hljs-deletion">-    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-deletion">-    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-deletion">-    helm:</span>
<span class="hljs-deletion">-      valueFiles:</span>
<span class="hljs-deletion">-        - values.yaml</span>
<span class="hljs-deletion">-      values: |-</span>
<span class="hljs-deletion">-        role: Agent</span>
<span class="hljs-deletion">-        customConfig:</span>
<span class="hljs-deletion">-          data_dir: /vector-data-dir</span>
<span class="hljs-deletion">-          api:</span>
<span class="hljs-deletion">-            enabled: true</span>
<span class="hljs-deletion">-            address: 127.0.0.1:8686</span>
<span class="hljs-deletion">-            playground: false</span>
<span class="hljs-deletion">-          sources:</span>
<span class="hljs-deletion">-            kubernetes_logs:</span>
<span class="hljs-deletion">-              type: kubernetes_logs</span>
<span class="hljs-deletion">-              rotate_wait_secs: 5</span>
<span class="hljs-deletion">-              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-deletion">-              auto_partial_merge: true</span>
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-deletion">-            internal_metrics:</span>
<span class="hljs-deletion">-              type: internal_metrics</span>
<span class="hljs-deletion">-          transforms:</span>
<span class="hljs-deletion">-            remap_app_logs:</span>
<span class="hljs-deletion">-              type: remap</span>
<span class="hljs-deletion">-              inputs: [kubernetes_logs]</span>
<span class="hljs-deletion">-              source: |-</span>
<span class="hljs-deletion">-                .log_type = &quot;application&quot;</span>
<span class="hljs-deletion">-                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-deletion">-                      }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-deletion">-                    .result = .pipelineRunUID</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                       .result = .taskRunUID</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-deletion">-                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .task = &quot;none&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-deletion">-                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    .pod = .kubernetes.pod_name</span>
<span class="hljs-deletion">-                    .container = .kubernetes.container_name</span>
<span class="hljs-deletion">-          sinks:</span>
<span class="hljs-deletion">-            aws_s3:</span>
<span class="hljs-deletion">-              type: &quot;aws_s3&quot;</span>
<span class="hljs-deletion">-              bucket: ${BUCKET}</span>
<span class="hljs-deletion">-              buffer:</span>
<span class="hljs-deletion">-                type: &quot;disk&quot;</span>
<span class="hljs-deletion">-                max_size: 1073741824</span>
<span class="hljs-deletion">-              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-deletion">-              compression: &quot;none&quot;</span>
<span class="hljs-deletion">-              endpoint: ${ENDPOINT}</span>
<span class="hljs-deletion">-              encoding:</span>
<span class="hljs-deletion">-                codec: &quot;text&quot;</span>
<span class="hljs-deletion">-              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-deletion">-              filename_time_format: &quot;&quot;</span>
<span class="hljs-deletion">-              filename_append_uuid: false</span>
<span class="hljs-deletion">-        env:</span>
<span class="hljs-deletion">-          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_access_key_id</span>
<span class="hljs-deletion">-          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_secret_access_key</span>
<span class="hljs-deletion">-          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_region</span>
<span class="hljs-deletion">-          - name: BUCKET</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: bucket</span>
<span class="hljs-deletion">-          - name: ENDPOINT</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: endpoint</span>
<span class="hljs-deletion">-        tolerations:</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/master</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/infra</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          securityContext:</span>
<span class="hljs-deletion">-          allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-          capabilities:</span>
<span class="hljs-deletion">-            drop:</span>
<span class="hljs-deletion">-            - CHOWN</span>
<span class="hljs-deletion">-            - DAC_OVERRIDE</span>
<span class="hljs-deletion">-            - FOWNER</span>
<span class="hljs-deletion">-            - FSETID</span>
<span class="hljs-deletion">-            - KILL</span>
<span class="hljs-deletion">-            - NET_BIND_SERVICE</span>
<span class="hljs-deletion">-            - SETGID</span>
<span class="hljs-deletion">-            - SETPCAP</span>
<span class="hljs-deletion">-            - SETUID</span>
<span class="hljs-deletion">-          readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-          seLinuxOptions:</span>
<span class="hljs-deletion">-            type: spc_t</span>
<span class="hljs-deletion">-          seccompProfile:</span>
<span class="hljs-deletion">-            type: RuntimeDefault</span>
<span class="hljs-deletion">-  syncPolicy:</span>
<span class="hljs-deletion">-    automated:</span>
<span class="hljs-deletion">-      prune: true</span>
<span class="hljs-deletion">-      selfHeal: true</span>
<span class="hljs-deletion">-    retry:</span>
<span class="hljs-deletion">-      backoff:</span>
<span class="hljs-deletion">-        duration: 10s</span>
<span class="hljs-deletion">-        factor: 2</span>
<span class="hljs-deletion">-        maxDuration: 3m</span>
<span class="hljs-deletion">-      limit: -1</span>
<span class="hljs-deletion">-    syncOptions:</span>
<span class="hljs-deletion">-    - CreateNamespace=true</span>
<span class="hljs-deletion">-    - Validate=false</span>
<span class="hljs-addition">+  port:</span>
<span class="hljs-addition">+    targetPort: server</span>
<span class="hljs-addition">+  tls:</span>
<span class="hljs-addition">+    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-addition">+    termination: reencrypt</span>
<span class="hljs-addition">+  to:</span>
<span class="hljs-addition">+    kind: Service</span>
<span class="hljs-addition">+    name: tekton-results-api-service</span>
<span class="hljs-addition">+    weight: 100</span>
<span class="hljs-addition">+  wildcardPolicy: None</span>
 ---
 allowHostDirVolumePlugin: true
 allowHostIPC: false
<span class="hljs-meta">@@ -2537,6 +2575,8 @@</span> fsGroup:
 groups: []
 kind: SecurityContextConstraints
 metadata:
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
   name: logging-scc
   namespace: tekton-logging
 priority: null
<span class="hljs-meta">@@ -2568,32 +2608,6 @@</span> volumes:
 - projected
 - secret
 ---
<span class="hljs-deletion">-apiVersion: route.openshift.io/v1</span>
<span class="hljs-deletion">-kind: Route</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-deletion">-    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-deletion">-    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-deletion">-  labels:</span>
<span class="hljs-deletion">-    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-deletion">-  name: tekton-results</span>
<span class="hljs-deletion">-  namespace: tekton-results</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  port:</span>
<span class="hljs-deletion">-    targetPort: server</span>
<span class="hljs-deletion">-  tls:</span>
<span class="hljs-deletion">-    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-deletion">-    termination: reencrypt</span>
<span class="hljs-deletion">-  to:</span>
<span class="hljs-deletion">-    kind: Service</span>
<span class="hljs-deletion">-    name: tekton-results-api-service</span>
<span class="hljs-deletion">-    weight: 100</span>
<span class="hljs-deletion">-  wildcardPolicy: None</span>
<span class="hljs-comment">----</span>
 allowHostDirVolumePlugin: false
 allowHostIPC: false
 allowHostNetwork: false
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 3be83ff8..57bb0ebe 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -17,6 +17,16 @@</span> metadata:
 ---
 apiVersion: v1
 kind: Namespace
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
<span class="hljs-addition">+kind: Namespace</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1854,6 +1864,152 @@</span> spec:
           serviceAccountName: pac-secret-manager
   schedule: &#x27;*/10 * * * *&#x27;
 ---
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+      - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: https://github.com/vectordotdev/helm-charts</span>
<span class="hljs-addition">+    targetRevision: 08506fdc01c7cc3fcf2dd83102add7b44980ee23</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-meta">@@ -1927,6 +2083,34 @@</span> spec:
 ---
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -2346,177 +2530,31 @@</span> spec:
   source: custom-operators
   sourceNamespace: openshift-marketplace
 ---
<span class="hljs-deletion">-apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-deletion">-kind: ExternalSecret</span>
<span class="hljs-addition">+apiVersion: route.openshift.io/v1</span>
<span class="hljs-addition">+kind: Route</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-deletion">-  name: s3-conf</span>
<span class="hljs-deletion">-  namespace: tekton-logging</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  dataFrom:</span>
<span class="hljs-deletion">-  - extract:</span>
<span class="hljs-deletion">-      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-deletion">-  refreshInterval: 1h</span>
<span class="hljs-deletion">-  secretStoreRef:</span>
<span class="hljs-deletion">-    kind: ClusterSecretStore</span>
<span class="hljs-deletion">-    name: appsre-vault</span>
<span class="hljs-deletion">-  target:</span>
<span class="hljs-deletion">-    creationPolicy: Owner</span>
<span class="hljs-deletion">-    deletionPolicy: Delete</span>
<span class="hljs-deletion">-    name: tekton-results-s3</span>
<span class="hljs-deletion">-    template:</span>
<span class="hljs-deletion">-      data:</span>
<span class="hljs-deletion">-        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-deletion">-        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-deletion">-        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-deletion">-        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-deletion">-        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-deletion">-kind: Application</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  name: vectors-tekton-logs-collector</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-addition">+    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-addition">+    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+  name: tekton-results</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
 spec:
<span class="hljs-deletion">-  destination:</span>
<span class="hljs-deletion">-    namespace: tekton-logging</span>
<span class="hljs-deletion">-    server: https://kubernetes.default.svc</span>
<span class="hljs-deletion">-  project: default</span>
<span class="hljs-deletion">-  source:</span>
<span class="hljs-deletion">-    path: charts/vector</span>
<span class="hljs-deletion">-    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-deletion">-    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-deletion">-    helm:</span>
<span class="hljs-deletion">-      valueFiles:</span>
<span class="hljs-deletion">-        - values.yaml</span>
<span class="hljs-deletion">-      values: |-</span>
<span class="hljs-deletion">-        role: Agent</span>
<span class="hljs-deletion">-        customConfig:</span>
<span class="hljs-deletion">-          data_dir: /vector-data-dir</span>
<span class="hljs-deletion">-          api:</span>
<span class="hljs-deletion">-            enabled: true</span>
<span class="hljs-deletion">-            address: 127.0.0.1:8686</span>
<span class="hljs-deletion">-            playground: false</span>
<span class="hljs-deletion">-          sources:</span>
<span class="hljs-deletion">-            kubernetes_logs:</span>
<span class="hljs-deletion">-              type: kubernetes_logs</span>
<span class="hljs-deletion">-              rotate_wait_secs: 5</span>
<span class="hljs-deletion">-              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-deletion">-              auto_partial_merge: true</span>
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-deletion">-            internal_metrics:</span>
<span class="hljs-deletion">-              type: internal_metrics</span>
<span class="hljs-deletion">-          transforms:</span>
<span class="hljs-deletion">-            remap_app_logs:</span>
<span class="hljs-deletion">-              type: remap</span>
<span class="hljs-deletion">-              inputs: [kubernetes_logs]</span>
<span class="hljs-deletion">-              source: |-</span>
<span class="hljs-deletion">-                .log_type = &quot;application&quot;</span>
<span class="hljs-deletion">-                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-deletion">-                      }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-deletion">-                    .result = .pipelineRunUID</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                       .result = .taskRunUID</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-deletion">-                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .task = &quot;none&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-deletion">-                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    .pod = .kubernetes.pod_name</span>
<span class="hljs-deletion">-                    .container = .kubernetes.container_name</span>
<span class="hljs-deletion">-          sinks:</span>
<span class="hljs-deletion">-            aws_s3:</span>
<span class="hljs-deletion">-              type: &quot;aws_s3&quot;</span>
<span class="hljs-deletion">-              bucket: ${BUCKET}</span>
<span class="hljs-deletion">-              buffer:</span>
<span class="hljs-deletion">-                type: &quot;disk&quot;</span>
<span class="hljs-deletion">-                max_size: 1073741824</span>
<span class="hljs-deletion">-              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-deletion">-              compression: &quot;none&quot;</span>
<span class="hljs-deletion">-              endpoint: ${ENDPOINT}</span>
<span class="hljs-deletion">-              encoding:</span>
<span class="hljs-deletion">-                codec: &quot;text&quot;</span>
<span class="hljs-deletion">-              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-deletion">-              filename_time_format: &quot;&quot;</span>
<span class="hljs-deletion">-              filename_append_uuid: false</span>
<span class="hljs-deletion">-        env:</span>
<span class="hljs-deletion">-          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_access_key_id</span>
<span class="hljs-deletion">-          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_secret_access_key</span>
<span class="hljs-deletion">-          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_region</span>
<span class="hljs-deletion">-          - name: BUCKET</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: bucket</span>
<span class="hljs-deletion">-          - name: ENDPOINT</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: endpoint</span>
<span class="hljs-deletion">-        tolerations:</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/master</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/infra</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          securityContext:</span>
<span class="hljs-deletion">-          allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-          capabilities:</span>
<span class="hljs-deletion">-            drop:</span>
<span class="hljs-deletion">-            - CHOWN</span>
<span class="hljs-deletion">-            - DAC_OVERRIDE</span>
<span class="hljs-deletion">-            - FOWNER</span>
<span class="hljs-deletion">-            - FSETID</span>
<span class="hljs-deletion">-            - KILL</span>
<span class="hljs-deletion">-            - NET_BIND_SERVICE</span>
<span class="hljs-deletion">-            - SETGID</span>
<span class="hljs-deletion">-            - SETPCAP</span>
<span class="hljs-deletion">-            - SETUID</span>
<span class="hljs-deletion">-          readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-          seLinuxOptions:</span>
<span class="hljs-deletion">-            type: spc_t</span>
<span class="hljs-deletion">-          seccompProfile:</span>
<span class="hljs-deletion">-            type: RuntimeDefault</span>
<span class="hljs-deletion">-  syncPolicy:</span>
<span class="hljs-deletion">-    automated:</span>
<span class="hljs-deletion">-      prune: true</span>
<span class="hljs-deletion">-      selfHeal: true</span>
<span class="hljs-deletion">-    retry:</span>
<span class="hljs-deletion">-      backoff:</span>
<span class="hljs-deletion">-        duration: 10s</span>
<span class="hljs-deletion">-        factor: 2</span>
<span class="hljs-deletion">-        maxDuration: 3m</span>
<span class="hljs-deletion">-      limit: -1</span>
<span class="hljs-deletion">-    syncOptions:</span>
<span class="hljs-deletion">-    - CreateNamespace=true</span>
<span class="hljs-deletion">-    - Validate=false</span>
<span class="hljs-addition">+  port:</span>
<span class="hljs-addition">+    targetPort: server</span>
<span class="hljs-addition">+  tls:</span>
<span class="hljs-addition">+    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-addition">+    termination: reencrypt</span>
<span class="hljs-addition">+  to:</span>
<span class="hljs-addition">+    kind: Service</span>
<span class="hljs-addition">+    name: tekton-results-api-service</span>
<span class="hljs-addition">+    weight: 100</span>
<span class="hljs-addition">+  wildcardPolicy: None</span>
 ---
 allowHostDirVolumePlugin: true
 allowHostIPC: false
<span class="hljs-meta">@@ -2536,6 +2574,8 @@</span> fsGroup:
 groups: []
 kind: SecurityContextConstraints
 metadata:
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
   name: logging-scc
   namespace: tekton-logging
 priority: null
<span class="hljs-meta">@@ -2567,32 +2607,6 @@</span> volumes:
 - projected
 - secret
 ---
<span class="hljs-deletion">-apiVersion: route.openshift.io/v1</span>
<span class="hljs-deletion">-kind: Route</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-deletion">-    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-deletion">-    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-deletion">-  labels:</span>
<span class="hljs-deletion">-    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-deletion">-  name: tekton-results</span>
<span class="hljs-deletion">-  namespace: tekton-results</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  port:</span>
<span class="hljs-deletion">-    targetPort: server</span>
<span class="hljs-deletion">-  tls:</span>
<span class="hljs-deletion">-    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-deletion">-    termination: reencrypt</span>
<span class="hljs-deletion">-  to:</span>
<span class="hljs-deletion">-    kind: Service</span>
<span class="hljs-deletion">-    name: tekton-results-api-service</span>
<span class="hljs-deletion">-    weight: 100</span>
<span class="hljs-deletion">-  wildcardPolicy: None</span>
<span class="hljs-comment">----</span>
 allowHostDirVolumePlugin: false
 allowHostIPC: false
 allowHostNetwork: false 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>2: Staging changes from 258a3d80 to f55f8633 on Wed Nov 27 13:45:22 2024 </h3>  

<details> 
<summary>Git Diff (1149 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 88a34ab6..aad91cf0 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -19,6 +19,16 @@</span> metadata:
   name: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+kind: Namespace</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 kind: ServiceAccount
 metadata:
   annotations:
<span class="hljs-meta">@@ -1836,6 +1846,227 @@</span> spec:
       - name: AUTOINSTALL_COMPONENTS
         value: &quot;false&quot;
 ---
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-addition">+    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+        - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+allowHostDirVolumePlugin: true</span>
<span class="hljs-addition">+allowHostIPC: false</span>
<span class="hljs-addition">+allowHostNetwork: false</span>
<span class="hljs-addition">+allowHostPID: false</span>
<span class="hljs-addition">+allowHostPorts: false</span>
<span class="hljs-addition">+allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+allowPrivilegedContainer: false</span>
<span class="hljs-addition">+allowedCapabilities: null</span>
<span class="hljs-addition">+apiVersion: security.openshift.io/v1</span>
<span class="hljs-addition">+defaultAddCapabilities: null</span>
<span class="hljs-addition">+defaultAllowPrivilegeEscalation: false</span>
<span class="hljs-addition">+forbiddenSysctls:</span>
<span class="hljs-addition">+- &#x27;*&#x27;</span>
<span class="hljs-addition">+fsGroup:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+groups: []</span>
<span class="hljs-addition">+kind: SecurityContextConstraints</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: logging-scc</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+priority: null</span>
<span class="hljs-addition">+readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+requiredDropCapabilities:</span>
<span class="hljs-addition">+- CHOWN</span>
<span class="hljs-addition">+- DAC_OVERRIDE</span>
<span class="hljs-addition">+- FSETID</span>
<span class="hljs-addition">+- FOWNER</span>
<span class="hljs-addition">+- SETGID</span>
<span class="hljs-addition">+- SETUID</span>
<span class="hljs-addition">+- SETPCAP</span>
<span class="hljs-addition">+- NET_BIND_SERVICE</span>
<span class="hljs-addition">+- KILL</span>
<span class="hljs-addition">+runAsUser:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+seLinuxContext:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+seccompProfiles:</span>
<span class="hljs-addition">+- runtime/default</span>
<span class="hljs-addition">+supplementalGroups:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+users:</span>
<span class="hljs-addition">+- system:serviceaccount:tekton-logging:vectors-tekton-logs-collector</span>
<span class="hljs-addition">+volumes:</span>
<span class="hljs-addition">+- configMap</span>
<span class="hljs-addition">+- emptyDir</span>
<span class="hljs-addition">+- hostPath</span>
<span class="hljs-addition">+- projected</span>
<span class="hljs-addition">+- secret</span>
<span class="hljs-addition">+---</span>
 apiVersion: route.openshift.io/v1
 kind: Route
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 72cfe7db..422e789d 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -17,6 +17,16 @@</span> metadata:
 ---
 apiVersion: v1
 kind: Namespace
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
<span class="hljs-addition">+kind: Namespace</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1854,6 +1864,152 @@</span> spec:
           serviceAccountName: pac-secret-manager
   schedule: &#x27;*/10 * * * *&#x27;
 ---
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+      - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: https://github.com/vectordotdev/helm-charts</span>
<span class="hljs-addition">+    targetRevision: 08506fdc01c7cc3fcf2dd83102add7b44980ee23</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-meta">@@ -1927,6 +2083,34 @@</span> spec:
 ---
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -2347,177 +2531,31 @@</span> spec:
   source: custom-operators
   sourceNamespace: openshift-marketplace
 ---
<span class="hljs-deletion">-apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-deletion">-kind: ExternalSecret</span>
<span class="hljs-addition">+apiVersion: route.openshift.io/v1</span>
<span class="hljs-addition">+kind: Route</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-deletion">-  name: s3-conf</span>
<span class="hljs-deletion">-  namespace: tekton-logging</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  dataFrom:</span>
<span class="hljs-deletion">-  - extract:</span>
<span class="hljs-deletion">-      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-deletion">-  refreshInterval: 1h</span>
<span class="hljs-deletion">-  secretStoreRef:</span>
<span class="hljs-deletion">-    kind: ClusterSecretStore</span>
<span class="hljs-deletion">-    name: appsre-vault</span>
<span class="hljs-deletion">-  target:</span>
<span class="hljs-deletion">-    creationPolicy: Owner</span>
<span class="hljs-deletion">-    deletionPolicy: Delete</span>
<span class="hljs-deletion">-    name: tekton-results-s3</span>
<span class="hljs-deletion">-    template:</span>
<span class="hljs-deletion">-      data:</span>
<span class="hljs-deletion">-        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-deletion">-        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-deletion">-        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-deletion">-        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-deletion">-        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-deletion">-kind: Application</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  name: vectors-tekton-logs-collector</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-addition">+    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-addition">+    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+  name: tekton-results</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
 spec:
<span class="hljs-deletion">-  destination:</span>
<span class="hljs-deletion">-    namespace: tekton-logging</span>
<span class="hljs-deletion">-    server: https://kubernetes.default.svc</span>
<span class="hljs-deletion">-  project: default</span>
<span class="hljs-deletion">-  source:</span>
<span class="hljs-deletion">-    path: charts/vector</span>
<span class="hljs-deletion">-    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-deletion">-    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-deletion">-    helm:</span>
<span class="hljs-deletion">-      valueFiles:</span>
<span class="hljs-deletion">-        - values.yaml</span>
<span class="hljs-deletion">-      values: |-</span>
<span class="hljs-deletion">-        role: Agent</span>
<span class="hljs-deletion">-        customConfig:</span>
<span class="hljs-deletion">-          data_dir: /vector-data-dir</span>
<span class="hljs-deletion">-          api:</span>
<span class="hljs-deletion">-            enabled: true</span>
<span class="hljs-deletion">-            address: 127.0.0.1:8686</span>
<span class="hljs-deletion">-            playground: false</span>
<span class="hljs-deletion">-          sources:</span>
<span class="hljs-deletion">-            kubernetes_logs:</span>
<span class="hljs-deletion">-              type: kubernetes_logs</span>
<span class="hljs-deletion">-              rotate_wait_secs: 5</span>
<span class="hljs-deletion">-              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-deletion">-              auto_partial_merge: true</span>
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-deletion">-            internal_metrics:</span>
<span class="hljs-deletion">-              type: internal_metrics</span>
<span class="hljs-deletion">-          transforms:</span>
<span class="hljs-deletion">-            remap_app_logs:</span>
<span class="hljs-deletion">-              type: remap</span>
<span class="hljs-deletion">-              inputs: [kubernetes_logs]</span>
<span class="hljs-deletion">-              source: |-</span>
<span class="hljs-deletion">-                .log_type = &quot;application&quot;</span>
<span class="hljs-deletion">-                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-deletion">-                      }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-deletion">-                    .result = .pipelineRunUID</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                       .result = .taskRunUID</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-deletion">-                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .task = &quot;none&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-deletion">-                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    .pod = .kubernetes.pod_name</span>
<span class="hljs-deletion">-                    .container = .kubernetes.container_name</span>
<span class="hljs-deletion">-          sinks:</span>
<span class="hljs-deletion">-            aws_s3:</span>
<span class="hljs-deletion">-              type: &quot;aws_s3&quot;</span>
<span class="hljs-deletion">-              bucket: ${BUCKET}</span>
<span class="hljs-deletion">-              buffer:</span>
<span class="hljs-deletion">-                type: &quot;disk&quot;</span>
<span class="hljs-deletion">-                max_size: 1073741824</span>
<span class="hljs-deletion">-              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-deletion">-              compression: &quot;none&quot;</span>
<span class="hljs-deletion">-              endpoint: ${ENDPOINT}</span>
<span class="hljs-deletion">-              encoding:</span>
<span class="hljs-deletion">-                codec: &quot;text&quot;</span>
<span class="hljs-deletion">-              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-deletion">-              filename_time_format: &quot;&quot;</span>
<span class="hljs-deletion">-              filename_append_uuid: false</span>
<span class="hljs-deletion">-        env:</span>
<span class="hljs-deletion">-          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_access_key_id</span>
<span class="hljs-deletion">-          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_secret_access_key</span>
<span class="hljs-deletion">-          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_region</span>
<span class="hljs-deletion">-          - name: BUCKET</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: bucket</span>
<span class="hljs-deletion">-          - name: ENDPOINT</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: endpoint</span>
<span class="hljs-deletion">-        tolerations:</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/master</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/infra</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          securityContext:</span>
<span class="hljs-deletion">-          allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-          capabilities:</span>
<span class="hljs-deletion">-            drop:</span>
<span class="hljs-deletion">-            - CHOWN</span>
<span class="hljs-deletion">-            - DAC_OVERRIDE</span>
<span class="hljs-deletion">-            - FOWNER</span>
<span class="hljs-deletion">-            - FSETID</span>
<span class="hljs-deletion">-            - KILL</span>
<span class="hljs-deletion">-            - NET_BIND_SERVICE</span>
<span class="hljs-deletion">-            - SETGID</span>
<span class="hljs-deletion">-            - SETPCAP</span>
<span class="hljs-deletion">-            - SETUID</span>
<span class="hljs-deletion">-          readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-          seLinuxOptions:</span>
<span class="hljs-deletion">-            type: spc_t</span>
<span class="hljs-deletion">-          seccompProfile:</span>
<span class="hljs-deletion">-            type: RuntimeDefault</span>
<span class="hljs-deletion">-  syncPolicy:</span>
<span class="hljs-deletion">-    automated:</span>
<span class="hljs-deletion">-      prune: true</span>
<span class="hljs-deletion">-      selfHeal: true</span>
<span class="hljs-deletion">-    retry:</span>
<span class="hljs-deletion">-      backoff:</span>
<span class="hljs-deletion">-        duration: 10s</span>
<span class="hljs-deletion">-        factor: 2</span>
<span class="hljs-deletion">-        maxDuration: 3m</span>
<span class="hljs-deletion">-      limit: -1</span>
<span class="hljs-deletion">-    syncOptions:</span>
<span class="hljs-deletion">-    - CreateNamespace=true</span>
<span class="hljs-deletion">-    - Validate=false</span>
<span class="hljs-addition">+  port:</span>
<span class="hljs-addition">+    targetPort: server</span>
<span class="hljs-addition">+  tls:</span>
<span class="hljs-addition">+    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-addition">+    termination: reencrypt</span>
<span class="hljs-addition">+  to:</span>
<span class="hljs-addition">+    kind: Service</span>
<span class="hljs-addition">+    name: tekton-results-api-service</span>
<span class="hljs-addition">+    weight: 100</span>
<span class="hljs-addition">+  wildcardPolicy: None</span>
 ---
 allowHostDirVolumePlugin: true
 allowHostIPC: false
<span class="hljs-meta">@@ -2537,6 +2575,8 @@</span> fsGroup:
 groups: []
 kind: SecurityContextConstraints
 metadata:
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
   name: logging-scc
   namespace: tekton-logging
 priority: null
<span class="hljs-meta">@@ -2568,32 +2608,6 @@</span> volumes:
 - projected
 - secret
 ---
<span class="hljs-deletion">-apiVersion: route.openshift.io/v1</span>
<span class="hljs-deletion">-kind: Route</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-deletion">-    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-deletion">-    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-deletion">-  labels:</span>
<span class="hljs-deletion">-    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-deletion">-  name: tekton-results</span>
<span class="hljs-deletion">-  namespace: tekton-results</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  port:</span>
<span class="hljs-deletion">-    targetPort: server</span>
<span class="hljs-deletion">-  tls:</span>
<span class="hljs-deletion">-    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-deletion">-    termination: reencrypt</span>
<span class="hljs-deletion">-  to:</span>
<span class="hljs-deletion">-    kind: Service</span>
<span class="hljs-deletion">-    name: tekton-results-api-service</span>
<span class="hljs-deletion">-    weight: 100</span>
<span class="hljs-deletion">-  wildcardPolicy: None</span>
<span class="hljs-comment">----</span>
 allowHostDirVolumePlugin: false
 allowHostIPC: false
 allowHostNetwork: false
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 3be83ff8..57bb0ebe 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -17,6 +17,16 @@</span> metadata:
 ---
 apiVersion: v1
 kind: Namespace
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
<span class="hljs-addition">+kind: Namespace</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1854,6 +1864,152 @@</span> spec:
           serviceAccountName: pac-secret-manager
   schedule: &#x27;*/10 * * * *&#x27;
 ---
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+      - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: https://github.com/vectordotdev/helm-charts</span>
<span class="hljs-addition">+    targetRevision: 08506fdc01c7cc3fcf2dd83102add7b44980ee23</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-meta">@@ -1927,6 +2083,34 @@</span> spec:
 ---
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -2346,177 +2530,31 @@</span> spec:
   source: custom-operators
   sourceNamespace: openshift-marketplace
 ---
<span class="hljs-deletion">-apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-deletion">-kind: ExternalSecret</span>
<span class="hljs-addition">+apiVersion: route.openshift.io/v1</span>
<span class="hljs-addition">+kind: Route</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-deletion">-  name: s3-conf</span>
<span class="hljs-deletion">-  namespace: tekton-logging</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  dataFrom:</span>
<span class="hljs-deletion">-  - extract:</span>
<span class="hljs-deletion">-      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-deletion">-  refreshInterval: 1h</span>
<span class="hljs-deletion">-  secretStoreRef:</span>
<span class="hljs-deletion">-    kind: ClusterSecretStore</span>
<span class="hljs-deletion">-    name: appsre-vault</span>
<span class="hljs-deletion">-  target:</span>
<span class="hljs-deletion">-    creationPolicy: Owner</span>
<span class="hljs-deletion">-    deletionPolicy: Delete</span>
<span class="hljs-deletion">-    name: tekton-results-s3</span>
<span class="hljs-deletion">-    template:</span>
<span class="hljs-deletion">-      data:</span>
<span class="hljs-deletion">-        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-deletion">-        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-deletion">-        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-deletion">-        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-deletion">-        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-deletion">-kind: Application</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  name: vectors-tekton-logs-collector</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-addition">+    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-addition">+    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+  name: tekton-results</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
 spec:
<span class="hljs-deletion">-  destination:</span>
<span class="hljs-deletion">-    namespace: tekton-logging</span>
<span class="hljs-deletion">-    server: https://kubernetes.default.svc</span>
<span class="hljs-deletion">-  project: default</span>
<span class="hljs-deletion">-  source:</span>
<span class="hljs-deletion">-    path: charts/vector</span>
<span class="hljs-deletion">-    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-deletion">-    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-deletion">-    helm:</span>
<span class="hljs-deletion">-      valueFiles:</span>
<span class="hljs-deletion">-        - values.yaml</span>
<span class="hljs-deletion">-      values: |-</span>
<span class="hljs-deletion">-        role: Agent</span>
<span class="hljs-deletion">-        customConfig:</span>
<span class="hljs-deletion">-          data_dir: /vector-data-dir</span>
<span class="hljs-deletion">-          api:</span>
<span class="hljs-deletion">-            enabled: true</span>
<span class="hljs-deletion">-            address: 127.0.0.1:8686</span>
<span class="hljs-deletion">-            playground: false</span>
<span class="hljs-deletion">-          sources:</span>
<span class="hljs-deletion">-            kubernetes_logs:</span>
<span class="hljs-deletion">-              type: kubernetes_logs</span>
<span class="hljs-deletion">-              rotate_wait_secs: 5</span>
<span class="hljs-deletion">-              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-deletion">-              auto_partial_merge: true</span>
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-deletion">-            internal_metrics:</span>
<span class="hljs-deletion">-              type: internal_metrics</span>
<span class="hljs-deletion">-          transforms:</span>
<span class="hljs-deletion">-            remap_app_logs:</span>
<span class="hljs-deletion">-              type: remap</span>
<span class="hljs-deletion">-              inputs: [kubernetes_logs]</span>
<span class="hljs-deletion">-              source: |-</span>
<span class="hljs-deletion">-                .log_type = &quot;application&quot;</span>
<span class="hljs-deletion">-                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-deletion">-                      }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-deletion">-                    .result = .pipelineRunUID</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                       .result = .taskRunUID</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-deletion">-                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .task = &quot;none&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-deletion">-                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    .pod = .kubernetes.pod_name</span>
<span class="hljs-deletion">-                    .container = .kubernetes.container_name</span>
<span class="hljs-deletion">-          sinks:</span>
<span class="hljs-deletion">-            aws_s3:</span>
<span class="hljs-deletion">-              type: &quot;aws_s3&quot;</span>
<span class="hljs-deletion">-              bucket: ${BUCKET}</span>
<span class="hljs-deletion">-              buffer:</span>
<span class="hljs-deletion">-                type: &quot;disk&quot;</span>
<span class="hljs-deletion">-                max_size: 1073741824</span>
<span class="hljs-deletion">-              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-deletion">-              compression: &quot;none&quot;</span>
<span class="hljs-deletion">-              endpoint: ${ENDPOINT}</span>
<span class="hljs-deletion">-              encoding:</span>
<span class="hljs-deletion">-                codec: &quot;text&quot;</span>
<span class="hljs-deletion">-              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-deletion">-              filename_time_format: &quot;&quot;</span>
<span class="hljs-deletion">-              filename_append_uuid: false</span>
<span class="hljs-deletion">-        env:</span>
<span class="hljs-deletion">-          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_access_key_id</span>
<span class="hljs-deletion">-          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_secret_access_key</span>
<span class="hljs-deletion">-          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_region</span>
<span class="hljs-deletion">-          - name: BUCKET</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: bucket</span>
<span class="hljs-deletion">-          - name: ENDPOINT</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: endpoint</span>
<span class="hljs-deletion">-        tolerations:</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/master</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/infra</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          securityContext:</span>
<span class="hljs-deletion">-          allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-          capabilities:</span>
<span class="hljs-deletion">-            drop:</span>
<span class="hljs-deletion">-            - CHOWN</span>
<span class="hljs-deletion">-            - DAC_OVERRIDE</span>
<span class="hljs-deletion">-            - FOWNER</span>
<span class="hljs-deletion">-            - FSETID</span>
<span class="hljs-deletion">-            - KILL</span>
<span class="hljs-deletion">-            - NET_BIND_SERVICE</span>
<span class="hljs-deletion">-            - SETGID</span>
<span class="hljs-deletion">-            - SETPCAP</span>
<span class="hljs-deletion">-            - SETUID</span>
<span class="hljs-deletion">-          readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-          seLinuxOptions:</span>
<span class="hljs-deletion">-            type: spc_t</span>
<span class="hljs-deletion">-          seccompProfile:</span>
<span class="hljs-deletion">-            type: RuntimeDefault</span>
<span class="hljs-deletion">-  syncPolicy:</span>
<span class="hljs-deletion">-    automated:</span>
<span class="hljs-deletion">-      prune: true</span>
<span class="hljs-deletion">-      selfHeal: true</span>
<span class="hljs-deletion">-    retry:</span>
<span class="hljs-deletion">-      backoff:</span>
<span class="hljs-deletion">-        duration: 10s</span>
<span class="hljs-deletion">-        factor: 2</span>
<span class="hljs-deletion">-        maxDuration: 3m</span>
<span class="hljs-deletion">-      limit: -1</span>
<span class="hljs-deletion">-    syncOptions:</span>
<span class="hljs-deletion">-    - CreateNamespace=true</span>
<span class="hljs-deletion">-    - Validate=false</span>
<span class="hljs-addition">+  port:</span>
<span class="hljs-addition">+    targetPort: server</span>
<span class="hljs-addition">+  tls:</span>
<span class="hljs-addition">+    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-addition">+    termination: reencrypt</span>
<span class="hljs-addition">+  to:</span>
<span class="hljs-addition">+    kind: Service</span>
<span class="hljs-addition">+    name: tekton-results-api-service</span>
<span class="hljs-addition">+    weight: 100</span>
<span class="hljs-addition">+  wildcardPolicy: None</span>
 ---
 allowHostDirVolumePlugin: true
 allowHostIPC: false
<span class="hljs-meta">@@ -2536,6 +2574,8 @@</span> fsGroup:
 groups: []
 kind: SecurityContextConstraints
 metadata:
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
   name: logging-scc
   namespace: tekton-logging
 priority: null
<span class="hljs-meta">@@ -2567,32 +2607,6 @@</span> volumes:
 - projected
 - secret
 ---
<span class="hljs-deletion">-apiVersion: route.openshift.io/v1</span>
<span class="hljs-deletion">-kind: Route</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-deletion">-    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-deletion">-    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-deletion">-  labels:</span>
<span class="hljs-deletion">-    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-deletion">-  name: tekton-results</span>
<span class="hljs-deletion">-  namespace: tekton-results</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  port:</span>
<span class="hljs-deletion">-    targetPort: server</span>
<span class="hljs-deletion">-  tls:</span>
<span class="hljs-deletion">-    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-deletion">-    termination: reencrypt</span>
<span class="hljs-deletion">-  to:</span>
<span class="hljs-deletion">-    kind: Service</span>
<span class="hljs-deletion">-    name: tekton-results-api-service</span>
<span class="hljs-deletion">-    weight: 100</span>
<span class="hljs-deletion">-  wildcardPolicy: None</span>
<span class="hljs-comment">----</span>
 allowHostDirVolumePlugin: false
 allowHostIPC: false
 allowHostNetwork: false 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (44 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-258a3d80/staging/components/pipeline-service/staging/stone-stage-p01/kustomize.out.yaml</span>
<span class="hljs-number">26</span><span class="hljs-string">,35d25</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-logging</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Namespace</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-wave:</span> <span class="hljs-string">&quot;-1&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/managed-by:</span> <span class="hljs-string">openshift-gitops</span>
<span class="hljs-number">1866</span><span class="hljs-string">,1867d1855</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">2006c1994</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-bullet">-</span> <span class="hljs-string">CreateNamespace=false</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>     <span class="hljs-bullet">-</span> <span class="hljs-string">CreateNamespace=true</span>
<span class="hljs-number">2574</span><span class="hljs-string">,2575d2561</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">./commit-258a3d80/staging/components/pipeline-service/staging/stone-stg-rh01/kustomize.out.yaml</span>
<span class="hljs-number">26</span><span class="hljs-string">,35d25</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-logging</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Namespace</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-wave:</span> <span class="hljs-string">&quot;-1&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/managed-by:</span> <span class="hljs-string">openshift-gitops</span>
<span class="hljs-number">1866</span><span class="hljs-string">,1867d1855</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">2006c1994</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-bullet">-</span> <span class="hljs-string">CreateNamespace=false</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>     <span class="hljs-bullet">-</span> <span class="hljs-string">CreateNamespace=true</span>
<span class="hljs-number">2573</span><span class="hljs-string">,2574d2560</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>2: Development changes from 258a3d80 to f55f8633 on Wed Nov 27 13:45:22 2024 </h3>  

<details> 
<summary>Git Diff (1149 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 88a34ab6..aad91cf0 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -19,6 +19,16 @@</span> metadata:
   name: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+kind: Namespace</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 kind: ServiceAccount
 metadata:
   annotations:
<span class="hljs-meta">@@ -1836,6 +1846,227 @@</span> spec:
       - name: AUTOINSTALL_COMPONENTS
         value: &quot;false&quot;
 ---
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-addition">+    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+        - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+allowHostDirVolumePlugin: true</span>
<span class="hljs-addition">+allowHostIPC: false</span>
<span class="hljs-addition">+allowHostNetwork: false</span>
<span class="hljs-addition">+allowHostPID: false</span>
<span class="hljs-addition">+allowHostPorts: false</span>
<span class="hljs-addition">+allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+allowPrivilegedContainer: false</span>
<span class="hljs-addition">+allowedCapabilities: null</span>
<span class="hljs-addition">+apiVersion: security.openshift.io/v1</span>
<span class="hljs-addition">+defaultAddCapabilities: null</span>
<span class="hljs-addition">+defaultAllowPrivilegeEscalation: false</span>
<span class="hljs-addition">+forbiddenSysctls:</span>
<span class="hljs-addition">+- &#x27;*&#x27;</span>
<span class="hljs-addition">+fsGroup:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+groups: []</span>
<span class="hljs-addition">+kind: SecurityContextConstraints</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: logging-scc</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+priority: null</span>
<span class="hljs-addition">+readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+requiredDropCapabilities:</span>
<span class="hljs-addition">+- CHOWN</span>
<span class="hljs-addition">+- DAC_OVERRIDE</span>
<span class="hljs-addition">+- FSETID</span>
<span class="hljs-addition">+- FOWNER</span>
<span class="hljs-addition">+- SETGID</span>
<span class="hljs-addition">+- SETUID</span>
<span class="hljs-addition">+- SETPCAP</span>
<span class="hljs-addition">+- NET_BIND_SERVICE</span>
<span class="hljs-addition">+- KILL</span>
<span class="hljs-addition">+runAsUser:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+seLinuxContext:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+seccompProfiles:</span>
<span class="hljs-addition">+- runtime/default</span>
<span class="hljs-addition">+supplementalGroups:</span>
<span class="hljs-addition">+  type: RunAsAny</span>
<span class="hljs-addition">+users:</span>
<span class="hljs-addition">+- system:serviceaccount:tekton-logging:vectors-tekton-logs-collector</span>
<span class="hljs-addition">+volumes:</span>
<span class="hljs-addition">+- configMap</span>
<span class="hljs-addition">+- emptyDir</span>
<span class="hljs-addition">+- hostPath</span>
<span class="hljs-addition">+- projected</span>
<span class="hljs-addition">+- secret</span>
<span class="hljs-addition">+---</span>
 apiVersion: route.openshift.io/v1
 kind: Route
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 72cfe7db..422e789d 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -17,6 +17,16 @@</span> metadata:
 ---
 apiVersion: v1
 kind: Namespace
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
<span class="hljs-addition">+kind: Namespace</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1854,6 +1864,152 @@</span> spec:
           serviceAccountName: pac-secret-manager
   schedule: &#x27;*/10 * * * *&#x27;
 ---
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+      - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: https://github.com/vectordotdev/helm-charts</span>
<span class="hljs-addition">+    targetRevision: 08506fdc01c7cc3fcf2dd83102add7b44980ee23</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-meta">@@ -1927,6 +2083,34 @@</span> spec:
 ---
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -2347,177 +2531,31 @@</span> spec:
   source: custom-operators
   sourceNamespace: openshift-marketplace
 ---
<span class="hljs-deletion">-apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-deletion">-kind: ExternalSecret</span>
<span class="hljs-addition">+apiVersion: route.openshift.io/v1</span>
<span class="hljs-addition">+kind: Route</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-deletion">-  name: s3-conf</span>
<span class="hljs-deletion">-  namespace: tekton-logging</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  dataFrom:</span>
<span class="hljs-deletion">-  - extract:</span>
<span class="hljs-deletion">-      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-deletion">-  refreshInterval: 1h</span>
<span class="hljs-deletion">-  secretStoreRef:</span>
<span class="hljs-deletion">-    kind: ClusterSecretStore</span>
<span class="hljs-deletion">-    name: appsre-vault</span>
<span class="hljs-deletion">-  target:</span>
<span class="hljs-deletion">-    creationPolicy: Owner</span>
<span class="hljs-deletion">-    deletionPolicy: Delete</span>
<span class="hljs-deletion">-    name: tekton-results-s3</span>
<span class="hljs-deletion">-    template:</span>
<span class="hljs-deletion">-      data:</span>
<span class="hljs-deletion">-        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-deletion">-        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-deletion">-        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-deletion">-        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-deletion">-        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-deletion">-kind: Application</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  name: vectors-tekton-logs-collector</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-addition">+    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-addition">+    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+  name: tekton-results</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
 spec:
<span class="hljs-deletion">-  destination:</span>
<span class="hljs-deletion">-    namespace: tekton-logging</span>
<span class="hljs-deletion">-    server: https://kubernetes.default.svc</span>
<span class="hljs-deletion">-  project: default</span>
<span class="hljs-deletion">-  source:</span>
<span class="hljs-deletion">-    path: charts/vector</span>
<span class="hljs-deletion">-    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-deletion">-    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-deletion">-    helm:</span>
<span class="hljs-deletion">-      valueFiles:</span>
<span class="hljs-deletion">-        - values.yaml</span>
<span class="hljs-deletion">-      values: |-</span>
<span class="hljs-deletion">-        role: Agent</span>
<span class="hljs-deletion">-        customConfig:</span>
<span class="hljs-deletion">-          data_dir: /vector-data-dir</span>
<span class="hljs-deletion">-          api:</span>
<span class="hljs-deletion">-            enabled: true</span>
<span class="hljs-deletion">-            address: 127.0.0.1:8686</span>
<span class="hljs-deletion">-            playground: false</span>
<span class="hljs-deletion">-          sources:</span>
<span class="hljs-deletion">-            kubernetes_logs:</span>
<span class="hljs-deletion">-              type: kubernetes_logs</span>
<span class="hljs-deletion">-              rotate_wait_secs: 5</span>
<span class="hljs-deletion">-              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-deletion">-              auto_partial_merge: true</span>
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-deletion">-            internal_metrics:</span>
<span class="hljs-deletion">-              type: internal_metrics</span>
<span class="hljs-deletion">-          transforms:</span>
<span class="hljs-deletion">-            remap_app_logs:</span>
<span class="hljs-deletion">-              type: remap</span>
<span class="hljs-deletion">-              inputs: [kubernetes_logs]</span>
<span class="hljs-deletion">-              source: |-</span>
<span class="hljs-deletion">-                .log_type = &quot;application&quot;</span>
<span class="hljs-deletion">-                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-deletion">-                      }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-deletion">-                    .result = .pipelineRunUID</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                       .result = .taskRunUID</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-deletion">-                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .task = &quot;none&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-deletion">-                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    .pod = .kubernetes.pod_name</span>
<span class="hljs-deletion">-                    .container = .kubernetes.container_name</span>
<span class="hljs-deletion">-          sinks:</span>
<span class="hljs-deletion">-            aws_s3:</span>
<span class="hljs-deletion">-              type: &quot;aws_s3&quot;</span>
<span class="hljs-deletion">-              bucket: ${BUCKET}</span>
<span class="hljs-deletion">-              buffer:</span>
<span class="hljs-deletion">-                type: &quot;disk&quot;</span>
<span class="hljs-deletion">-                max_size: 1073741824</span>
<span class="hljs-deletion">-              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-deletion">-              compression: &quot;none&quot;</span>
<span class="hljs-deletion">-              endpoint: ${ENDPOINT}</span>
<span class="hljs-deletion">-              encoding:</span>
<span class="hljs-deletion">-                codec: &quot;text&quot;</span>
<span class="hljs-deletion">-              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-deletion">-              filename_time_format: &quot;&quot;</span>
<span class="hljs-deletion">-              filename_append_uuid: false</span>
<span class="hljs-deletion">-        env:</span>
<span class="hljs-deletion">-          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_access_key_id</span>
<span class="hljs-deletion">-          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_secret_access_key</span>
<span class="hljs-deletion">-          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_region</span>
<span class="hljs-deletion">-          - name: BUCKET</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: bucket</span>
<span class="hljs-deletion">-          - name: ENDPOINT</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: endpoint</span>
<span class="hljs-deletion">-        tolerations:</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/master</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/infra</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          securityContext:</span>
<span class="hljs-deletion">-          allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-          capabilities:</span>
<span class="hljs-deletion">-            drop:</span>
<span class="hljs-deletion">-            - CHOWN</span>
<span class="hljs-deletion">-            - DAC_OVERRIDE</span>
<span class="hljs-deletion">-            - FOWNER</span>
<span class="hljs-deletion">-            - FSETID</span>
<span class="hljs-deletion">-            - KILL</span>
<span class="hljs-deletion">-            - NET_BIND_SERVICE</span>
<span class="hljs-deletion">-            - SETGID</span>
<span class="hljs-deletion">-            - SETPCAP</span>
<span class="hljs-deletion">-            - SETUID</span>
<span class="hljs-deletion">-          readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-          seLinuxOptions:</span>
<span class="hljs-deletion">-            type: spc_t</span>
<span class="hljs-deletion">-          seccompProfile:</span>
<span class="hljs-deletion">-            type: RuntimeDefault</span>
<span class="hljs-deletion">-  syncPolicy:</span>
<span class="hljs-deletion">-    automated:</span>
<span class="hljs-deletion">-      prune: true</span>
<span class="hljs-deletion">-      selfHeal: true</span>
<span class="hljs-deletion">-    retry:</span>
<span class="hljs-deletion">-      backoff:</span>
<span class="hljs-deletion">-        duration: 10s</span>
<span class="hljs-deletion">-        factor: 2</span>
<span class="hljs-deletion">-        maxDuration: 3m</span>
<span class="hljs-deletion">-      limit: -1</span>
<span class="hljs-deletion">-    syncOptions:</span>
<span class="hljs-deletion">-    - CreateNamespace=true</span>
<span class="hljs-deletion">-    - Validate=false</span>
<span class="hljs-addition">+  port:</span>
<span class="hljs-addition">+    targetPort: server</span>
<span class="hljs-addition">+  tls:</span>
<span class="hljs-addition">+    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-addition">+    termination: reencrypt</span>
<span class="hljs-addition">+  to:</span>
<span class="hljs-addition">+    kind: Service</span>
<span class="hljs-addition">+    name: tekton-results-api-service</span>
<span class="hljs-addition">+    weight: 100</span>
<span class="hljs-addition">+  wildcardPolicy: None</span>
 ---
 allowHostDirVolumePlugin: true
 allowHostIPC: false
<span class="hljs-meta">@@ -2537,6 +2575,8 @@</span> fsGroup:
 groups: []
 kind: SecurityContextConstraints
 metadata:
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
   name: logging-scc
   namespace: tekton-logging
 priority: null
<span class="hljs-meta">@@ -2568,32 +2608,6 @@</span> volumes:
 - projected
 - secret
 ---
<span class="hljs-deletion">-apiVersion: route.openshift.io/v1</span>
<span class="hljs-deletion">-kind: Route</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-deletion">-    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-deletion">-    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-deletion">-  labels:</span>
<span class="hljs-deletion">-    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-deletion">-  name: tekton-results</span>
<span class="hljs-deletion">-  namespace: tekton-results</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  port:</span>
<span class="hljs-deletion">-    targetPort: server</span>
<span class="hljs-deletion">-  tls:</span>
<span class="hljs-deletion">-    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-deletion">-    termination: reencrypt</span>
<span class="hljs-deletion">-  to:</span>
<span class="hljs-deletion">-    kind: Service</span>
<span class="hljs-deletion">-    name: tekton-results-api-service</span>
<span class="hljs-deletion">-    weight: 100</span>
<span class="hljs-deletion">-  wildcardPolicy: None</span>
<span class="hljs-comment">----</span>
 allowHostDirVolumePlugin: false
 allowHostIPC: false
 allowHostNetwork: false
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 3be83ff8..57bb0ebe 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -17,6 +17,16 @@</span> metadata:
 ---
 apiVersion: v1
 kind: Namespace
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    argocd.argoproj.io/managed-by: openshift-gitops</span>
<span class="hljs-addition">+  name: tekton-logging</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
<span class="hljs-addition">+kind: Namespace</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1854,6 +1864,152 @@</span> spec:
           serviceAccountName: pac-secret-manager
   schedule: &#x27;*/10 * * * *&#x27;
 ---
<span class="hljs-addition">+apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-addition">+kind: Application</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  name: vectors-tekton-logs-collector</span>
<span class="hljs-addition">+  namespace: openshift-gitops</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  destination:</span>
<span class="hljs-addition">+    namespace: tekton-logging</span>
<span class="hljs-addition">+    server: https://kubernetes.default.svc</span>
<span class="hljs-addition">+  project: default</span>
<span class="hljs-addition">+  source:</span>
<span class="hljs-addition">+    helm:</span>
<span class="hljs-addition">+      valueFiles:</span>
<span class="hljs-addition">+      - values.yaml</span>
<span class="hljs-addition">+      values: |-</span>
<span class="hljs-addition">+        role: Agent</span>
<span class="hljs-addition">+        customConfig:</span>
<span class="hljs-addition">+          data_dir: /vector-data-dir</span>
<span class="hljs-addition">+          api:</span>
<span class="hljs-addition">+            enabled: true</span>
<span class="hljs-addition">+            address: 127.0.0.1:8686</span>
<span class="hljs-addition">+            playground: false</span>
<span class="hljs-addition">+          sources:</span>
<span class="hljs-addition">+            kubernetes_logs:</span>
<span class="hljs-addition">+              type: kubernetes_logs</span>
<span class="hljs-addition">+              rotate_wait_secs: 5</span>
<span class="hljs-addition">+              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-addition">+              auto_partial_merge: true</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+            internal_metrics:</span>
<span class="hljs-addition">+              type: internal_metrics</span>
<span class="hljs-addition">+          transforms:</span>
<span class="hljs-addition">+            remap_app_logs:</span>
<span class="hljs-addition">+              type: remap</span>
<span class="hljs-addition">+              inputs: [kubernetes_logs]</span>
<span class="hljs-addition">+              source: |-</span>
<span class="hljs-addition">+                .log_type = &quot;application&quot;</span>
<span class="hljs-addition">+                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-addition">+                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-addition">+                      }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-addition">+                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-addition">+                    .result = .pipelineRunUID</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                       .result = .taskRunUID</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-addition">+                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .task = &quot;none&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-addition">+                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-addition">+                    } else {</span>
<span class="hljs-addition">+                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-addition">+                    }</span>
<span class="hljs-addition">+                    .pod = .kubernetes.pod_name</span>
<span class="hljs-addition">+                    .container = .kubernetes.container_name</span>
<span class="hljs-addition">+          sinks:</span>
<span class="hljs-addition">+            aws_s3:</span>
<span class="hljs-addition">+              type: &quot;aws_s3&quot;</span>
<span class="hljs-addition">+              bucket: ${BUCKET}</span>
<span class="hljs-addition">+              buffer:</span>
<span class="hljs-addition">+                type: &quot;disk&quot;</span>
<span class="hljs-addition">+                max_size: 1073741824</span>
<span class="hljs-addition">+              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-addition">+              compression: &quot;none&quot;</span>
<span class="hljs-addition">+              endpoint: ${ENDPOINT}</span>
<span class="hljs-addition">+              encoding:</span>
<span class="hljs-addition">+                codec: &quot;text&quot;</span>
<span class="hljs-addition">+              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-addition">+              filename_time_format: &quot;&quot;</span>
<span class="hljs-addition">+              filename_append_uuid: false</span>
<span class="hljs-addition">+        env:</span>
<span class="hljs-addition">+          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_access_key_id</span>
<span class="hljs-addition">+          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_secret_access_key</span>
<span class="hljs-addition">+          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: aws_region</span>
<span class="hljs-addition">+          - name: BUCKET</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: bucket</span>
<span class="hljs-addition">+          - name: ENDPOINT</span>
<span class="hljs-addition">+            valueFrom:</span>
<span class="hljs-addition">+              secretKeyRef:</span>
<span class="hljs-addition">+                name: s3-conf</span>
<span class="hljs-addition">+                key: endpoint</span>
<span class="hljs-addition">+        tolerations:</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/master</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          - effect: NoSchedule</span>
<span class="hljs-addition">+            key: node-role.kubernetes.io/infra</span>
<span class="hljs-addition">+            operator: Exists</span>
<span class="hljs-addition">+          securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - CHOWN</span>
<span class="hljs-addition">+            - DAC_OVERRIDE</span>
<span class="hljs-addition">+            - FOWNER</span>
<span class="hljs-addition">+            - FSETID</span>
<span class="hljs-addition">+            - KILL</span>
<span class="hljs-addition">+            - NET_BIND_SERVICE</span>
<span class="hljs-addition">+            - SETGID</span>
<span class="hljs-addition">+            - SETPCAP</span>
<span class="hljs-addition">+            - SETUID</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          seLinuxOptions:</span>
<span class="hljs-addition">+            type: spc_t</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+    path: charts/vector</span>
<span class="hljs-addition">+    repoURL: https://github.com/vectordotdev/helm-charts</span>
<span class="hljs-addition">+    targetRevision: 08506fdc01c7cc3fcf2dd83102add7b44980ee23</span>
<span class="hljs-addition">+  syncPolicy:</span>
<span class="hljs-addition">+    automated:</span>
<span class="hljs-addition">+      prune: true</span>
<span class="hljs-addition">+      selfHeal: true</span>
<span class="hljs-addition">+    retry:</span>
<span class="hljs-addition">+      backoff:</span>
<span class="hljs-addition">+        duration: 10s</span>
<span class="hljs-addition">+        factor: 2</span>
<span class="hljs-addition">+        maxDuration: 3m</span>
<span class="hljs-addition">+      limit: -1</span>
<span class="hljs-addition">+    syncOptions:</span>
<span class="hljs-addition">+    - CreateNamespace=false</span>
<span class="hljs-addition">+    - Validate=false</span>
<span class="hljs-addition">+---</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-meta">@@ -1927,6 +2083,34 @@</span> spec:
 ---
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-addition">+  name: s3-conf</span>
<span class="hljs-addition">+  namespace: tekton-logging</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  dataFrom:</span>
<span class="hljs-addition">+  - extract:</span>
<span class="hljs-addition">+      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-addition">+  refreshInterval: 1h</span>
<span class="hljs-addition">+  secretStoreRef:</span>
<span class="hljs-addition">+    kind: ClusterSecretStore</span>
<span class="hljs-addition">+    name: appsre-vault</span>
<span class="hljs-addition">+  target:</span>
<span class="hljs-addition">+    creationPolicy: Owner</span>
<span class="hljs-addition">+    deletionPolicy: Delete</span>
<span class="hljs-addition">+    name: tekton-results-s3</span>
<span class="hljs-addition">+    template:</span>
<span class="hljs-addition">+      data:</span>
<span class="hljs-addition">+        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-addition">+        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-addition">+        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-addition">+        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-addition">+        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-addition">+kind: ExternalSecret</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -2346,177 +2530,31 @@</span> spec:
   source: custom-operators
   sourceNamespace: openshift-marketplace
 ---
<span class="hljs-deletion">-apiVersion: external-secrets.io/v1beta1</span>
<span class="hljs-deletion">-kind: ExternalSecret</span>
<span class="hljs-addition">+apiVersion: route.openshift.io/v1</span>
<span class="hljs-addition">+kind: Route</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;-1&quot;</span>
<span class="hljs-deletion">-  name: s3-conf</span>
<span class="hljs-deletion">-  namespace: tekton-logging</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  dataFrom:</span>
<span class="hljs-deletion">-  - extract:</span>
<span class="hljs-deletion">-      key: integrations-output/terraform-resources/appsres07ue1/stonesoup-infra-stage/redhat-stg-plnsvc-s3</span>
<span class="hljs-deletion">-  refreshInterval: 1h</span>
<span class="hljs-deletion">-  secretStoreRef:</span>
<span class="hljs-deletion">-    kind: ClusterSecretStore</span>
<span class="hljs-deletion">-    name: appsre-vault</span>
<span class="hljs-deletion">-  target:</span>
<span class="hljs-deletion">-    creationPolicy: Owner</span>
<span class="hljs-deletion">-    deletionPolicy: Delete</span>
<span class="hljs-deletion">-    name: tekton-results-s3</span>
<span class="hljs-deletion">-    template:</span>
<span class="hljs-deletion">-      data:</span>
<span class="hljs-deletion">-        aws_access_key_id: &#x27;{{ .aws_access_key_id }}&#x27;</span>
<span class="hljs-deletion">-        aws_region: &#x27;{{ .aws_region }}&#x27;</span>
<span class="hljs-deletion">-        aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;</span>
<span class="hljs-deletion">-        bucket: &#x27;{{ .bucket }}&#x27;</span>
<span class="hljs-deletion">-        endpoint: https://{{ .endpoint }}</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: argoproj.io/v1alpha1</span>
<span class="hljs-deletion">-kind: Application</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  name: vectors-tekton-logs-collector</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-addition">+    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-addition">+    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-addition">+    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+  name: tekton-results</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
 spec:
<span class="hljs-deletion">-  destination:</span>
<span class="hljs-deletion">-    namespace: tekton-logging</span>
<span class="hljs-deletion">-    server: https://kubernetes.default.svc</span>
<span class="hljs-deletion">-  project: default</span>
<span class="hljs-deletion">-  source:</span>
<span class="hljs-deletion">-    path: charts/vector</span>
<span class="hljs-deletion">-    repoURL: &#x27;https://github.com/vectordotdev/helm-charts&#x27;</span>
<span class="hljs-deletion">-    targetRevision: &quot;08506fdc01c7cc3fcf2dd83102add7b44980ee23&quot;</span>
<span class="hljs-deletion">-    helm:</span>
<span class="hljs-deletion">-      valueFiles:</span>
<span class="hljs-deletion">-        - values.yaml</span>
<span class="hljs-deletion">-      values: |-</span>
<span class="hljs-deletion">-        role: Agent</span>
<span class="hljs-deletion">-        customConfig:</span>
<span class="hljs-deletion">-          data_dir: /vector-data-dir</span>
<span class="hljs-deletion">-          api:</span>
<span class="hljs-deletion">-            enabled: true</span>
<span class="hljs-deletion">-            address: 127.0.0.1:8686</span>
<span class="hljs-deletion">-            playground: false</span>
<span class="hljs-deletion">-          sources:</span>
<span class="hljs-deletion">-            kubernetes_logs:</span>
<span class="hljs-deletion">-              type: kubernetes_logs</span>
<span class="hljs-deletion">-              rotate_wait_secs: 5</span>
<span class="hljs-deletion">-              glob_minimum_cooldown_ms: 15000</span>
<span class="hljs-deletion">-              auto_partial_merge: true</span>
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-deletion">-            internal_metrics:</span>
<span class="hljs-deletion">-              type: internal_metrics</span>
<span class="hljs-deletion">-          transforms:</span>
<span class="hljs-deletion">-            remap_app_logs:</span>
<span class="hljs-deletion">-              type: remap</span>
<span class="hljs-deletion">-              inputs: [kubernetes_logs]</span>
<span class="hljs-deletion">-              source: |-</span>
<span class="hljs-deletion">-                .log_type = &quot;application&quot;</span>
<span class="hljs-deletion">-                .kubernetes_namespace_name = .kubernetes.pod_namespace</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .taskRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/taskRunUID&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .taskRunUID = &quot;none&quot;</span>
<span class="hljs-deletion">-                      }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;) {</span>
<span class="hljs-deletion">-                      .pipelineRunUID = del(.kubernetes.pod_labels.&quot;tekton.dev/pipelineRunUID&quot;)</span>
<span class="hljs-deletion">-                    .result = .pipelineRunUID</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                       .result = .taskRunUID</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;) {</span>
<span class="hljs-deletion">-                      .task = del(.kubernetes.pod_labels.&quot;tekton.dev/task&quot;)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .task = &quot;none&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    if exists(.kubernetes.pod_namespace) {</span>
<span class="hljs-deletion">-                      .namespace = del(.kubernetes.pod_namespace)</span>
<span class="hljs-deletion">-                    } else {</span>
<span class="hljs-deletion">-                      .namespace = &quot;unlabeled&quot;</span>
<span class="hljs-deletion">-                    }</span>
<span class="hljs-deletion">-                    .pod = .kubernetes.pod_name</span>
<span class="hljs-deletion">-                    .container = .kubernetes.container_name</span>
<span class="hljs-deletion">-          sinks:</span>
<span class="hljs-deletion">-            aws_s3:</span>
<span class="hljs-deletion">-              type: &quot;aws_s3&quot;</span>
<span class="hljs-deletion">-              bucket: ${BUCKET}</span>
<span class="hljs-deletion">-              buffer:</span>
<span class="hljs-deletion">-                type: &quot;disk&quot;</span>
<span class="hljs-deletion">-                max_size: 1073741824</span>
<span class="hljs-deletion">-              inputs: [&quot;remap_app_logs&quot;]</span>
<span class="hljs-deletion">-              compression: &quot;none&quot;</span>
<span class="hljs-deletion">-              endpoint: ${ENDPOINT}</span>
<span class="hljs-deletion">-              encoding:</span>
<span class="hljs-deletion">-                codec: &quot;text&quot;</span>
<span class="hljs-deletion">-              key_prefix: &quot;/logs/{{ `{{ .namespace }}` }}/{{`{{ .result }}`}}/{{`{{ .taskRunUID }}`}}/{{`{{ .container }}`}}&quot;</span>
<span class="hljs-deletion">-              filename_time_format: &quot;&quot;</span>
<span class="hljs-deletion">-              filename_append_uuid: false</span>
<span class="hljs-deletion">-        env:</span>
<span class="hljs-deletion">-          - name: AWS_ACCESS_KEY_ID</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_access_key_id</span>
<span class="hljs-deletion">-          - name: AWS_SECRET_ACCESS_KEY</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_secret_access_key</span>
<span class="hljs-deletion">-          - name: AWS_DEFAULT_REGION</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: aws_region</span>
<span class="hljs-deletion">-          - name: BUCKET</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: bucket</span>
<span class="hljs-deletion">-          - name: ENDPOINT</span>
<span class="hljs-deletion">-            valueFrom:</span>
<span class="hljs-deletion">-              secretKeyRef:</span>
<span class="hljs-deletion">-                name: s3-conf</span>
<span class="hljs-deletion">-                key: endpoint</span>
<span class="hljs-deletion">-        tolerations:</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/master</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          - effect: NoSchedule</span>
<span class="hljs-deletion">-            key: node-role.kubernetes.io/infra</span>
<span class="hljs-deletion">-            operator: Exists</span>
<span class="hljs-deletion">-          securityContext:</span>
<span class="hljs-deletion">-          allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-          capabilities:</span>
<span class="hljs-deletion">-            drop:</span>
<span class="hljs-deletion">-            - CHOWN</span>
<span class="hljs-deletion">-            - DAC_OVERRIDE</span>
<span class="hljs-deletion">-            - FOWNER</span>
<span class="hljs-deletion">-            - FSETID</span>
<span class="hljs-deletion">-            - KILL</span>
<span class="hljs-deletion">-            - NET_BIND_SERVICE</span>
<span class="hljs-deletion">-            - SETGID</span>
<span class="hljs-deletion">-            - SETPCAP</span>
<span class="hljs-deletion">-            - SETUID</span>
<span class="hljs-deletion">-          readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-          seLinuxOptions:</span>
<span class="hljs-deletion">-            type: spc_t</span>
<span class="hljs-deletion">-          seccompProfile:</span>
<span class="hljs-deletion">-            type: RuntimeDefault</span>
<span class="hljs-deletion">-  syncPolicy:</span>
<span class="hljs-deletion">-    automated:</span>
<span class="hljs-deletion">-      prune: true</span>
<span class="hljs-deletion">-      selfHeal: true</span>
<span class="hljs-deletion">-    retry:</span>
<span class="hljs-deletion">-      backoff:</span>
<span class="hljs-deletion">-        duration: 10s</span>
<span class="hljs-deletion">-        factor: 2</span>
<span class="hljs-deletion">-        maxDuration: 3m</span>
<span class="hljs-deletion">-      limit: -1</span>
<span class="hljs-deletion">-    syncOptions:</span>
<span class="hljs-deletion">-    - CreateNamespace=true</span>
<span class="hljs-deletion">-    - Validate=false</span>
<span class="hljs-addition">+  port:</span>
<span class="hljs-addition">+    targetPort: server</span>
<span class="hljs-addition">+  tls:</span>
<span class="hljs-addition">+    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-addition">+    termination: reencrypt</span>
<span class="hljs-addition">+  to:</span>
<span class="hljs-addition">+    kind: Service</span>
<span class="hljs-addition">+    name: tekton-results-api-service</span>
<span class="hljs-addition">+    weight: 100</span>
<span class="hljs-addition">+  wildcardPolicy: None</span>
 ---
 allowHostDirVolumePlugin: true
 allowHostIPC: false
<span class="hljs-meta">@@ -2536,6 +2574,8 @@</span> fsGroup:
 groups: []
 kind: SecurityContextConstraints
 metadata:
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
   name: logging-scc
   namespace: tekton-logging
 priority: null
<span class="hljs-meta">@@ -2567,32 +2607,6 @@</span> volumes:
 - projected
 - secret
 ---
<span class="hljs-deletion">-apiVersion: route.openshift.io/v1</span>
<span class="hljs-deletion">-kind: Route</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/hsts_header: max-age=63072000</span>
<span class="hljs-deletion">-    haproxy.router.openshift.io/timeout: 86410s</span>
<span class="hljs-deletion">-    openshift.io/host.generated: &quot;true&quot;</span>
<span class="hljs-deletion">-    router.openshift.io/haproxy.health.check.interval: 86400s</span>
<span class="hljs-deletion">-  labels:</span>
<span class="hljs-deletion">-    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-deletion">-  name: tekton-results</span>
<span class="hljs-deletion">-  namespace: tekton-results</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  port:</span>
<span class="hljs-deletion">-    targetPort: server</span>
<span class="hljs-deletion">-  tls:</span>
<span class="hljs-deletion">-    insecureEdgeTerminationPolicy: Redirect</span>
<span class="hljs-deletion">-    termination: reencrypt</span>
<span class="hljs-deletion">-  to:</span>
<span class="hljs-deletion">-    kind: Service</span>
<span class="hljs-deletion">-    name: tekton-results-api-service</span>
<span class="hljs-deletion">-    weight: 100</span>
<span class="hljs-deletion">-  wildcardPolicy: None</span>
<span class="hljs-comment">----</span>
 allowHostDirVolumePlugin: false
 allowHostIPC: false
 allowHostNetwork: false 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>3: Production changes from fc765c2a to 258a3d80 on Wed Nov 27 09:23:44 2024 </h3>  

<details> 
<summary>Git Diff (21 lines)</summary>  
<pre><code>  diff --git a<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base<span class="hljs-regexp">/kustomization.yaml b/</span>components<span class="hljs-regexp">/integration/</span>production<span class="hljs-regexp">/base/</span>kustomization.yaml
index <span class="hljs-number">071420</span>df..<span class="hljs-number">6967</span>bd23 <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base/kustomization.yaml
+++ b<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base/kustomization.yaml
@@ -<span class="hljs-number">3</span>,<span class="hljs-number">13</span> +<span class="hljs-number">3</span>,<span class="hljs-number">13</span> @@ kind: Kustomization
 resources:
 - ..<span class="hljs-regexp">/../</span>base
 - ..<span class="hljs-regexp">/../</span>base/external-secrets
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>snapshotgc?ref=<span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>default?ref=b547faa7f109c99314aced6ff31647a4a71ced8a
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>snapshotgc?ref=b547faa7f109c99314aced6ff31647a4a71ced8a

 images:
 - name: quay.io<span class="hljs-regexp">/redhat-appstudio/i</span>ntegration-service
   newName: quay.io<span class="hljs-regexp">/redhat-appstudio/i</span>ntegration-service
-  newTag: <span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
+  newTag: b547faa7f109c99314aced6ff31647a4a71ced8a

 configMapGenerator:
 - name: integration-config 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (34 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-fc765c2a/production/components/integration/production/stone-prod-p01/kustomize.out.yaml</span>
<span class="hljs-string">1424c1424</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:b547faa7f109c99314aced6ff31647a4a71ced8a</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:3330c2dca9f84664954491282e1e5608c6c25c13</span>
<span class="hljs-number">1513</span><span class="hljs-string">,1515c1513,1515</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--pr-snapshots-to-keep=70</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--non-pr-snapshots-to-keep=600</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:b547faa7f109c99314aced6ff31647a4a71ced8a</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--pr-snapshots-to-keep=100</span>
<span class="hljs-string">&gt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--non-pr-snapshots-to-keep=700</span>
<span class="hljs-string">&gt;</span>             <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:3330c2dca9f84664954491282e1e5608c6c25c13</span>
<span class="hljs-string">1530c1530</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">schedule:</span> <span class="hljs-number">0</span> <span class="hljs-string">*/6</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>   <span class="hljs-attr">schedule:</span> <span class="hljs-number">0</span> <span class="hljs-number">5</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span>
<span class="hljs-string">./commit-fc765c2a/production/components/integration/production/stone-prod-p02/kustomize.out.yaml</span>
<span class="hljs-string">1424c1424</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:b547faa7f109c99314aced6ff31647a4a71ced8a</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:3330c2dca9f84664954491282e1e5608c6c25c13</span>
<span class="hljs-number">1513</span><span class="hljs-string">,1515c1513,1515</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--pr-snapshots-to-keep=70</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--non-pr-snapshots-to-keep=600</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:b547faa7f109c99314aced6ff31647a4a71ced8a</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--pr-snapshots-to-keep=100</span>
<span class="hljs-string">&gt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">--non-pr-snapshots-to-keep=700</span>
<span class="hljs-string">&gt;</span>             <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/integration-service:3330c2dca9f84664954491282e1e5608c6c25c13</span>
<span class="hljs-string">1530c1530</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">schedule:</span> <span class="hljs-number">0</span> <span class="hljs-string">*/6</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>   <span class="hljs-attr">schedule:</span> <span class="hljs-number">0</span> <span class="hljs-number">5</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>3: Staging changes from fc765c2a to 258a3d80 on Wed Nov 27 09:23:44 2024 </h3>  

<details> 
<summary>Git Diff (21 lines)</summary>  
<pre><code>  diff --git a<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base<span class="hljs-regexp">/kustomization.yaml b/</span>components<span class="hljs-regexp">/integration/</span>production<span class="hljs-regexp">/base/</span>kustomization.yaml
index <span class="hljs-number">071420</span>df..<span class="hljs-number">6967</span>bd23 <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base/kustomization.yaml
+++ b<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base/kustomization.yaml
@@ -<span class="hljs-number">3</span>,<span class="hljs-number">13</span> +<span class="hljs-number">3</span>,<span class="hljs-number">13</span> @@ kind: Kustomization
 resources:
 - ..<span class="hljs-regexp">/../</span>base
 - ..<span class="hljs-regexp">/../</span>base/external-secrets
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>snapshotgc?ref=<span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>default?ref=b547faa7f109c99314aced6ff31647a4a71ced8a
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>snapshotgc?ref=b547faa7f109c99314aced6ff31647a4a71ced8a

 images:
 - name: quay.io<span class="hljs-regexp">/redhat-appstudio/i</span>ntegration-service
   newName: quay.io<span class="hljs-regexp">/redhat-appstudio/i</span>ntegration-service
-  newTag: <span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
+  newTag: b547faa7f109c99314aced6ff31647a4a71ced8a

 configMapGenerator:
 - name: integration-config 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>3: Development changes from fc765c2a to 258a3d80 on Wed Nov 27 09:23:44 2024 </h3>  

<details> 
<summary>Git Diff (21 lines)</summary>  
<pre><code>  diff --git a<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base<span class="hljs-regexp">/kustomization.yaml b/</span>components<span class="hljs-regexp">/integration/</span>production<span class="hljs-regexp">/base/</span>kustomization.yaml
index <span class="hljs-number">071420</span>df..<span class="hljs-number">6967</span>bd23 <span class="hljs-number">100644</span>
--- a<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base/kustomization.yaml
+++ b<span class="hljs-regexp">/components/i</span>ntegration<span class="hljs-regexp">/production/</span>base/kustomization.yaml
@@ -<span class="hljs-number">3</span>,<span class="hljs-number">13</span> +<span class="hljs-number">3</span>,<span class="hljs-number">13</span> @@ kind: Kustomization
 resources:
 - ..<span class="hljs-regexp">/../</span>base
 - ..<span class="hljs-regexp">/../</span>base/external-secrets
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>default?ref=<span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
-- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>snapshotgc?ref=<span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>default?ref=b547faa7f109c99314aced6ff31647a4a71ced8a
+- https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/konflux-ci/i</span>ntegration-service<span class="hljs-regexp">/config/</span>snapshotgc?ref=b547faa7f109c99314aced6ff31647a4a71ced8a

 images:
 - name: quay.io<span class="hljs-regexp">/redhat-appstudio/i</span>ntegration-service
   newName: quay.io<span class="hljs-regexp">/redhat-appstudio/i</span>ntegration-service
-  newTag: <span class="hljs-number">3330</span>c2dca9f84664954491282e1e5608c6c25c13
+  newTag: b547faa7f109c99314aced6ff31647a4a71ced8a

 configMapGenerator:
 - name: integration-config 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>4: Production changes from 58f59119 to fc765c2a on Wed Nov 27 06:41:28 2024 </h3>  

<details> 
<summary>Git Diff (783 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml b/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-comment">index ff33364b..f1707461 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-meta">@@ -24,3 +24,4 @@</span> spec:
         aws_region: &quot;{{ .aws_region }}&quot;
         bucket: &quot;{{ .bucket }}&quot;
         endpoint: &quot;https://{{ .endpoint }}&quot;
<span class="hljs-addition">+        s3_url: &quot;s3://{{ .bucket }}&quot;</span>
<span class="hljs-comment">diff --git a/components/pipeline-service/development/main-pipeline-service-configuration.yaml b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 58dfd147..cc10560e 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -439,6 +439,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -731,6 +743,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -872,6 +896,19 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1066,7 +1103,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1114,7 +1151,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1207,6 +1244,80 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1256,6 +1367,7 @@</span> spec:
             - token
             - -check_owner=false
             - -completed_run_grace_period=2h
<span class="hljs-addition">+            - -logs_api=true</span>
           env:
             - name: SYSTEM_NAMESPACE
               valueFrom:
<span class="hljs-meta">@@ -1273,7 +1385,7 @@</span> spec:
               value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
             - name: AUTH_MODE
               value: token
<span class="hljs-deletion">-          image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+          image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
           name: watcher
           ports:
             - containerPort: 9090
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index da4f57ad..88a34ab6 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -409,6 +409,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -684,6 +696,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -825,6 +849,19 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1046,7 +1083,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1074,6 +1111,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1094,7 +1136,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1158,6 +1200,80 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1235,6 +1351,7 @@</span> spec:
             - -check_owner=false
             - -completed_run_grace_period
             - 10m
<span class="hljs-addition">+            - -logs_api=true</span>
           env:
             - name: SYSTEM_NAMESPACE
               valueFrom:
<span class="hljs-meta">@@ -1252,7 +1369,7 @@</span> spec:
               value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
             - name: AUTH_MODE
               value: token
<span class="hljs-deletion">-          image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+          image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
           name: watcher
           ports:
             - containerPort: 9090
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 7b2535c1..72cfe7db 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -539,6 +539,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -1068,6 +1080,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -1209,6 +1233,21 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1430,7 +1469,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1458,6 +1497,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1478,7 +1522,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1542,6 +1586,83 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1619,6 +1740,7 @@</span> spec:
         - -check_owner=false
         - -completed_run_grace_period
         - 10m
<span class="hljs-addition">+        - -logs_api=true</span>
         env:
         - name: SYSTEM_NAMESPACE
           valueFrom:
<span class="hljs-meta">@@ -1636,7 +1758,7 @@</span> spec:
           value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
         - name: AUTH_MODE
           value: token
<span class="hljs-deletion">-        image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         name: watcher
         ports:
         - containerPort: 9090
<span class="hljs-meta">@@ -1851,6 +1973,7 @@</span> spec:
         aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;
         bucket: &#x27;{{ .bucket }}&#x27;
         endpoint: https://{{ .endpoint }}
<span class="hljs-addition">+        s3_url: s3://{{ .bucket }}</span>
 ---
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 0393db22..3be83ff8 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -539,6 +539,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -1068,6 +1080,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -1209,6 +1233,21 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1430,7 +1469,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1458,6 +1497,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1478,7 +1522,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1542,6 +1586,83 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1619,6 +1740,7 @@</span> spec:
         - -check_owner=false
         - -completed_run_grace_period
         - 10m
<span class="hljs-addition">+        - -logs_api=true</span>
         env:
         - name: SYSTEM_NAMESPACE
           valueFrom:
<span class="hljs-meta">@@ -1636,7 +1758,7 @@</span> spec:
           value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
         - name: AUTH_MODE
           value: token
<span class="hljs-deletion">-        image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         name: watcher
         ports:
         - containerPort: 9090
<span class="hljs-meta">@@ -1851,6 +1973,7 @@</span> spec:
         aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;
         bucket: &#x27;{{ .bucket }}&#x27;
         endpoint: https://{{ .endpoint }}
<span class="hljs-addition">+        s3_url: s3://{{ .bucket }}</span>
 ---
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>4: Staging changes from 58f59119 to fc765c2a on Wed Nov 27 06:41:28 2024 </h3>  

<details> 
<summary>Git Diff (783 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml b/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-comment">index ff33364b..f1707461 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-meta">@@ -24,3 +24,4 @@</span> spec:
         aws_region: &quot;{{ .aws_region }}&quot;
         bucket: &quot;{{ .bucket }}&quot;
         endpoint: &quot;https://{{ .endpoint }}&quot;
<span class="hljs-addition">+        s3_url: &quot;s3://{{ .bucket }}&quot;</span>
<span class="hljs-comment">diff --git a/components/pipeline-service/development/main-pipeline-service-configuration.yaml b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 58dfd147..cc10560e 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -439,6 +439,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -731,6 +743,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -872,6 +896,19 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1066,7 +1103,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1114,7 +1151,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1207,6 +1244,80 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1256,6 +1367,7 @@</span> spec:
             - token
             - -check_owner=false
             - -completed_run_grace_period=2h
<span class="hljs-addition">+            - -logs_api=true</span>
           env:
             - name: SYSTEM_NAMESPACE
               valueFrom:
<span class="hljs-meta">@@ -1273,7 +1385,7 @@</span> spec:
               value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
             - name: AUTH_MODE
               value: token
<span class="hljs-deletion">-          image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+          image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
           name: watcher
           ports:
             - containerPort: 9090
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index da4f57ad..88a34ab6 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -409,6 +409,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -684,6 +696,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -825,6 +849,19 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1046,7 +1083,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1074,6 +1111,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1094,7 +1136,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1158,6 +1200,80 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1235,6 +1351,7 @@</span> spec:
             - -check_owner=false
             - -completed_run_grace_period
             - 10m
<span class="hljs-addition">+            - -logs_api=true</span>
           env:
             - name: SYSTEM_NAMESPACE
               valueFrom:
<span class="hljs-meta">@@ -1252,7 +1369,7 @@</span> spec:
               value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
             - name: AUTH_MODE
               value: token
<span class="hljs-deletion">-          image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+          image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
           name: watcher
           ports:
             - containerPort: 9090
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 7b2535c1..72cfe7db 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -539,6 +539,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -1068,6 +1080,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -1209,6 +1233,21 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1430,7 +1469,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1458,6 +1497,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1478,7 +1522,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1542,6 +1586,83 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1619,6 +1740,7 @@</span> spec:
         - -check_owner=false
         - -completed_run_grace_period
         - 10m
<span class="hljs-addition">+        - -logs_api=true</span>
         env:
         - name: SYSTEM_NAMESPACE
           valueFrom:
<span class="hljs-meta">@@ -1636,7 +1758,7 @@</span> spec:
           value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
         - name: AUTH_MODE
           value: token
<span class="hljs-deletion">-        image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         name: watcher
         ports:
         - containerPort: 9090
<span class="hljs-meta">@@ -1851,6 +1973,7 @@</span> spec:
         aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;
         bucket: &#x27;{{ .bucket }}&#x27;
         endpoint: https://{{ .endpoint }}
<span class="hljs-addition">+        s3_url: s3://{{ .bucket }}</span>
 ---
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 0393db22..3be83ff8 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -539,6 +539,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -1068,6 +1080,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -1209,6 +1233,21 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1430,7 +1469,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1458,6 +1497,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1478,7 +1522,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1542,6 +1586,83 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1619,6 +1740,7 @@</span> spec:
         - -check_owner=false
         - -completed_run_grace_period
         - 10m
<span class="hljs-addition">+        - -logs_api=true</span>
         env:
         - name: SYSTEM_NAMESPACE
           valueFrom:
<span class="hljs-meta">@@ -1636,7 +1758,7 @@</span> spec:
           value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
         - name: AUTH_MODE
           value: token
<span class="hljs-deletion">-        image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         name: watcher
         ports:
         - containerPort: 9090
<span class="hljs-meta">@@ -1851,6 +1973,7 @@</span> spec:
         aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;
         bucket: &#x27;{{ .bucket }}&#x27;
         endpoint: https://{{ .endpoint }}
<span class="hljs-addition">+        s3_url: s3://{{ .bucket }}</span>
 ---
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (282 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-58f59119/staging/components/pipeline-service/staging/stone-stage-p01/kustomize.out.yaml</span>
<span class="hljs-number">543</span><span class="hljs-string">,554d542</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">resources:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">events</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">verbs:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">get</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">list</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">create</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">update</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">delete</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">patch</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">watch</span>
<span class="hljs-string">&lt;</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">apiGroups:</span>
<span class="hljs-number">1082</span><span class="hljs-string">,1093d1069</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">CONVERTER_ENABLE=false</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">CONVERTER_DB_LIMIT=50</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
<span class="hljs-number">1236</span><span class="hljs-string">,1250d1211</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">maxRetention:</span> <span class="hljs-string">&quot;30&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">runAt:</span> <span class="hljs-number">5</span> <span class="hljs-number">5</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-number">0</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/part-of:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-config-results-retention-policy</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">namespace:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">data:</span>
<span class="hljs-string">1471c1432</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">blob</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">S3</span>
<span class="hljs-number">1499</span><span class="hljs-string">,1503d1459</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">LOGGING_PLUGIN_API_URL</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">key:</span> <span class="hljs-string">s3_url</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-s3</span>
<span class="hljs-string">1523c1479</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-number">1590</span><span class="hljs-string">,1664d1545</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/part-of:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">namespace:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">spec:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">replicas:</span> <span class="hljs-number">0</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">selector:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">matchLabels:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">template:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">cluster-autoscaler.kubernetes.io/safe-to-evict:</span> <span class="hljs-string">&quot;false&quot;</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">spec:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">containers:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">env:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">SYSTEM_NAMESPACE</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">fieldRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">fieldPath:</span> <span class="hljs-string">metadata.namespace</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">CONFIG_LOGGING_NAME</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">tekton-results-config-logging</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">DB_USER</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">key:</span> <span class="hljs-string">POSTGRES_USER</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-postgres</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-postgres</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">name:</span> <span class="hljs-string">retention-policy-agent</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">resources:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">limits:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">cpu:</span> <span class="hljs-string">500m</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">memory:</span> <span class="hljs-string">128Mi</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">requests:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">cpu:</span> <span class="hljs-string">5m</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">memory:</span> <span class="hljs-string">64Mi</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">securityContext:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">allowPrivilegeEscalation:</span> <span class="hljs-literal">false</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">capabilities:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">drop:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">ALL</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnlyRootFilesystem:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">runAsNonRoot:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">seccompProfile:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">type:</span> <span class="hljs-string">RuntimeDefault</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">volumeMounts:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/tekton/results</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">config</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/tls</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">tls</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">serviceAccountName:</span> <span class="hljs-string">tekton-results-watcher</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">volumes:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">configMap:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-api-config</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">name:</span> <span class="hljs-string">config</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">tls</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">secret:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">secretName:</span> <span class="hljs-string">tekton-results-tls</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">1739d1619</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-string">-logs_api=true</span>
<span class="hljs-string">1757c1637</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-string">2144d2023</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">s3_url:</span> <span class="hljs-string">s3://{{</span> <span class="hljs-string">.bucket</span> <span class="hljs-string">}}</span>
<span class="hljs-string">./commit-58f59119/staging/components/pipeline-service/staging/stone-stg-rh01/kustomize.out.yaml</span>
<span class="hljs-number">543</span><span class="hljs-string">,554d542</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">resources:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">events</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">verbs:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">get</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">list</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">create</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">update</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">delete</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">patch</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">watch</span>
<span class="hljs-string">&lt;</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">apiGroups:</span>
<span class="hljs-number">1082</span><span class="hljs-string">,1093d1069</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">CONVERTER_ENABLE=false</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">CONVERTER_DB_LIMIT=50</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
<span class="hljs-number">1236</span><span class="hljs-string">,1250d1211</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">maxRetention:</span> <span class="hljs-string">&quot;30&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">runAt:</span> <span class="hljs-number">5</span> <span class="hljs-number">5</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-number">0</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/part-of:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-config-results-retention-policy</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">namespace:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">data:</span>
<span class="hljs-string">1471c1432</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">blob</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">S3</span>
<span class="hljs-number">1499</span><span class="hljs-string">,1503d1459</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">LOGGING_PLUGIN_API_URL</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">key:</span> <span class="hljs-string">s3_url</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-s3</span>
<span class="hljs-string">1523c1479</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-number">1590</span><span class="hljs-string">,1664d1545</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/part-of:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">namespace:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">spec:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">replicas:</span> <span class="hljs-number">0</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">selector:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">matchLabels:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">template:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">cluster-autoscaler.kubernetes.io/safe-to-evict:</span> <span class="hljs-string">&quot;false&quot;</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">spec:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">containers:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">env:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">SYSTEM_NAMESPACE</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">fieldRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">fieldPath:</span> <span class="hljs-string">metadata.namespace</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">CONFIG_LOGGING_NAME</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">tekton-results-config-logging</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">DB_USER</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">key:</span> <span class="hljs-string">POSTGRES_USER</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-postgres</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-postgres</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">name:</span> <span class="hljs-string">retention-policy-agent</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">resources:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">limits:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">cpu:</span> <span class="hljs-string">500m</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">memory:</span> <span class="hljs-string">128Mi</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">requests:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">cpu:</span> <span class="hljs-string">5m</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">memory:</span> <span class="hljs-string">64Mi</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">securityContext:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">allowPrivilegeEscalation:</span> <span class="hljs-literal">false</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">capabilities:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">drop:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">ALL</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnlyRootFilesystem:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">runAsNonRoot:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">seccompProfile:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">type:</span> <span class="hljs-string">RuntimeDefault</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">volumeMounts:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/tekton/results</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">config</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/tls</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">tls</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">serviceAccountName:</span> <span class="hljs-string">tekton-results-watcher</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">volumes:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">configMap:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-api-config</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">name:</span> <span class="hljs-string">config</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">tls</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">secret:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">secretName:</span> <span class="hljs-string">tekton-results-tls</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">1739d1619</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-string">-logs_api=true</span>
<span class="hljs-string">1757c1637</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-string">2144d2023</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">s3_url:</span> <span class="hljs-string">s3://{{</span> <span class="hljs-string">.bucket</span> <span class="hljs-string">}}</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>4: Development changes from 58f59119 to fc765c2a on Wed Nov 27 06:41:28 2024 </h3>  

<details> 
<summary>Git Diff (783 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml b/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-comment">index ff33364b..f1707461 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/base/external-secrets/tekton-results/tekton-results-s3.yaml</span>
<span class="hljs-meta">@@ -24,3 +24,4 @@</span> spec:
         aws_region: &quot;{{ .aws_region }}&quot;
         bucket: &quot;{{ .bucket }}&quot;
         endpoint: &quot;https://{{ .endpoint }}&quot;
<span class="hljs-addition">+        s3_url: &quot;s3://{{ .bucket }}&quot;</span>
<span class="hljs-comment">diff --git a/components/pipeline-service/development/main-pipeline-service-configuration.yaml b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 58dfd147..cc10560e 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -439,6 +439,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -731,6 +743,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -872,6 +896,19 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1066,7 +1103,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1114,7 +1151,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1207,6 +1244,80 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1256,6 +1367,7 @@</span> spec:
             - token
             - -check_owner=false
             - -completed_run_grace_period=2h
<span class="hljs-addition">+            - -logs_api=true</span>
           env:
             - name: SYSTEM_NAMESPACE
               valueFrom:
<span class="hljs-meta">@@ -1273,7 +1385,7 @@</span> spec:
               value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
             - name: AUTH_MODE
               value: token
<span class="hljs-deletion">-          image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+          image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
           name: watcher
           ports:
             - containerPort: 9090
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index da4f57ad..88a34ab6 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -409,6 +409,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -684,6 +696,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -825,6 +849,19 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1046,7 +1083,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1074,6 +1111,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1094,7 +1136,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1158,6 +1200,80 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1235,6 +1351,7 @@</span> spec:
             - -check_owner=false
             - -completed_run_grace_period
             - 10m
<span class="hljs-addition">+            - -logs_api=true</span>
           env:
             - name: SYSTEM_NAMESPACE
               valueFrom:
<span class="hljs-meta">@@ -1252,7 +1369,7 @@</span> spec:
               value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
             - name: AUTH_MODE
               value: token
<span class="hljs-deletion">-          image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+          image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
           name: watcher
           ports:
             - containerPort: 9090
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 7b2535c1..72cfe7db 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -539,6 +539,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -1068,6 +1080,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -1209,6 +1233,21 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1430,7 +1469,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1458,6 +1497,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1478,7 +1522,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1542,6 +1586,83 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1619,6 +1740,7 @@</span> spec:
         - -check_owner=false
         - -completed_run_grace_period
         - 10m
<span class="hljs-addition">+        - -logs_api=true</span>
         env:
         - name: SYSTEM_NAMESPACE
           valueFrom:
<span class="hljs-meta">@@ -1636,7 +1758,7 @@</span> spec:
           value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
         - name: AUTH_MODE
           value: token
<span class="hljs-deletion">-        image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         name: watcher
         ports:
         - containerPort: 9090
<span class="hljs-meta">@@ -1851,6 +1973,7 @@</span> spec:
         aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;
         bucket: &#x27;{{ .bucket }}&#x27;
         endpoint: https://{{ .endpoint }}
<span class="hljs-addition">+        s3_url: s3://{{ .bucket }}</span>
 ---
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 0393db22..3be83ff8 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -539,6 +539,18 @@</span> rules:
   - pods/log
   verbs:
   - get
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - &quot;&quot;</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - events</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - get</span>
<span class="hljs-addition">+  - list</span>
<span class="hljs-addition">+  - create</span>
<span class="hljs-addition">+  - update</span>
<span class="hljs-addition">+  - delete</span>
<span class="hljs-addition">+  - patch</span>
<span class="hljs-addition">+  - watch</span>
 - apiGroups:
   - tekton.dev
   resources:
<span class="hljs-meta">@@ -1068,6 +1080,18 @@</span> data:
     K8S_BURST=100
     PROFILING=true
     PROFILING_PORT=6060
<span class="hljs-addition">+    CONVERTER_ENABLE=false</span>
<span class="hljs-addition">+    CONVERTER_DB_LIMIT=50</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-addition">+    LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
 kind: ConfigMap
 metadata:
   annotations:
<span class="hljs-meta">@@ -1209,6 +1233,21 @@</span> metadata:
   namespace: tekton-results
 ---
 apiVersion: v1
<span class="hljs-addition">+data:</span>
<span class="hljs-addition">+  maxRetention: &quot;30&quot;</span>
<span class="hljs-addition">+  runAt: 5 5 * * 0</span>
<span class="hljs-addition">+kind: ConfigMap</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-config-results-retention-policy</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: v1</span>
 data:
   version: devel
 kind: ConfigMap
<span class="hljs-meta">@@ -1430,7 +1469,7 @@</span> spec:
         - name: LOGS_API
           value: &quot;true&quot;
         - name: LOGS_TYPE
<span class="hljs-deletion">-          value: S3</span>
<span class="hljs-addition">+          value: blob</span>
         - name: S3_HOSTNAME_IMMUTABLE
           value: &quot;true&quot;
         - name: S3_ACCESS_KEY_ID
<span class="hljs-meta">@@ -1458,6 +1497,11 @@</span> spec:
             secretKeyRef:
               key: endpoint
               name: tekton-results-s3
<span class="hljs-addition">+        - name: LOGGING_PLUGIN_API_URL</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: s3_url</span>
<span class="hljs-addition">+              name: tekton-results-s3</span>
         - name: DB_USER
           valueFrom:
             secretKeyRef:
<span class="hljs-meta">@@ -1478,7 +1522,7 @@</span> spec:
             secretKeyRef:
               key: db.name
               name: tekton-results-database
<span class="hljs-deletion">-        image: quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         livenessProbe:
           httpGet:
             path: /healthz
<span class="hljs-meta">@@ -1542,6 +1586,83 @@</span> spec:
 ---
 apiVersion: apps/v1
 kind: Deployment
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+  labels:</span>
<span class="hljs-addition">+    app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+    app.kubernetes.io/part-of: tekton-results</span>
<span class="hljs-addition">+    app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+  name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  namespace: tekton-results</span>
<span class="hljs-addition">+spec:</span>
<span class="hljs-addition">+  replicas: 0</span>
<span class="hljs-addition">+  selector:</span>
<span class="hljs-addition">+    matchLabels:</span>
<span class="hljs-addition">+      app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+  template:</span>
<span class="hljs-addition">+    metadata:</span>
<span class="hljs-addition">+      annotations:</span>
<span class="hljs-addition">+        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-addition">+        cluster-autoscaler.kubernetes.io/safe-to-evict: &quot;false&quot;</span>
<span class="hljs-addition">+      labels:</span>
<span class="hljs-addition">+        app.kubernetes.io/name: tekton-results-retention-policy-agent</span>
<span class="hljs-addition">+        app.kubernetes.io/version: devel</span>
<span class="hljs-addition">+    spec:</span>
<span class="hljs-addition">+      containers:</span>
<span class="hljs-addition">+      - env:</span>
<span class="hljs-addition">+        - name: SYSTEM_NAMESPACE</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            fieldRef:</span>
<span class="hljs-addition">+              fieldPath: metadata.namespace</span>
<span class="hljs-addition">+        - name: CONFIG_LOGGING_NAME</span>
<span class="hljs-addition">+          value: tekton-results-config-logging</span>
<span class="hljs-addition">+        - name: DB_USER</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_USER</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        - name: DB_PASSWORD</span>
<span class="hljs-addition">+          valueFrom:</span>
<span class="hljs-addition">+            secretKeyRef:</span>
<span class="hljs-addition">+              key: POSTGRES_PASSWORD</span>
<span class="hljs-addition">+              name: tekton-results-postgres</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-addition">+        name: retention-policy-agent</span>
<span class="hljs-addition">+        resources:</span>
<span class="hljs-addition">+          limits:</span>
<span class="hljs-addition">+            cpu: 500m</span>
<span class="hljs-addition">+            memory: 128Mi</span>
<span class="hljs-addition">+          requests:</span>
<span class="hljs-addition">+            cpu: 5m</span>
<span class="hljs-addition">+            memory: 64Mi</span>
<span class="hljs-addition">+        securityContext:</span>
<span class="hljs-addition">+          allowPrivilegeEscalation: false</span>
<span class="hljs-addition">+          capabilities:</span>
<span class="hljs-addition">+            drop:</span>
<span class="hljs-addition">+            - ALL</span>
<span class="hljs-addition">+          readOnlyRootFilesystem: true</span>
<span class="hljs-addition">+          runAsNonRoot: true</span>
<span class="hljs-addition">+          seccompProfile:</span>
<span class="hljs-addition">+            type: RuntimeDefault</span>
<span class="hljs-addition">+        volumeMounts:</span>
<span class="hljs-addition">+        - mountPath: /etc/tekton/results</span>
<span class="hljs-addition">+          name: config</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+        - mountPath: /etc/tls</span>
<span class="hljs-addition">+          name: tls</span>
<span class="hljs-addition">+          readOnly: true</span>
<span class="hljs-addition">+      serviceAccountName: tekton-results-watcher</span>
<span class="hljs-addition">+      volumes:</span>
<span class="hljs-addition">+      - configMap:</span>
<span class="hljs-addition">+          name: tekton-results-api-config</span>
<span class="hljs-addition">+        name: config</span>
<span class="hljs-addition">+      - name: tls</span>
<span class="hljs-addition">+        secret:</span>
<span class="hljs-addition">+          secretName: tekton-results-tls</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: apps/v1</span>
<span class="hljs-addition">+kind: Deployment</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1619,6 +1740,7 @@</span> spec:
         - -check_owner=false
         - -completed_run_grace_period
         - 10m
<span class="hljs-addition">+        - -logs_api=true</span>
         env:
         - name: SYSTEM_NAMESPACE
           valueFrom:
<span class="hljs-meta">@@ -1636,7 +1758,7 @@</span> spec:
           value: tekton-results-api-service.tekton-pipelines.svc.cluster.local:8080
         - name: AUTH_MODE
           value: token
<span class="hljs-deletion">-        image: quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span>
<span class="hljs-addition">+        image: quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
         name: watcher
         ports:
         - containerPort: 9090
<span class="hljs-meta">@@ -1851,6 +1973,7 @@</span> spec:
         aws_secret_access_key: &#x27;{{ .aws_secret_access_key }}&#x27;
         bucket: &#x27;{{ .bucket }}&#x27;
         endpoint: https://{{ .endpoint }}
<span class="hljs-addition">+        s3_url: s3://{{ .bucket }}</span>
 ---
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (133 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-58f59119/development/components/pipeline-service/development/kustomize.out.yaml</span>
<span class="hljs-number">558</span><span class="hljs-string">,569d557</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">resources:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">events</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">verbs:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">get</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">list</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">create</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">update</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">delete</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">patch</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-bullet">-</span> <span class="hljs-string">watch</span>
<span class="hljs-string">&lt;</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">apiGroups:</span>
<span class="hljs-number">948</span><span class="hljs-string">,959d935</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">CONVERTER_ENABLE=false</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">CONVERTER_DB_LIMIT=50</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_PROXY_PATH=/api/logs/v1/application</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_TOKEN_PATH=/var/run/secrets/kubernetes.io/serviceaccount/token</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_NAMESPACE_KEY=kubernetes_namespace_name</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_STATIC_LABELS=&#x27;log_type=application&#x27;</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_CA_CERT=</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_QUERY_LIMIT=1700</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_TLS_VERIFICATION_DISABLE=</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_FORWARDER_DELAY_DURATION=10</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_API_URL=s3://tekton-logs</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-string">LOGGING_PLUGIN_QUERY_PARAMS=&#x27;v1alpha2LogType=true&amp;use_path_style=true&#x27;</span>
<span class="hljs-number">1102</span><span class="hljs-string">,1116d1077</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">maxRetention:</span> <span class="hljs-string">&quot;30&quot;</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">runAt:</span> <span class="hljs-number">5</span> <span class="hljs-number">5</span> <span class="hljs-string">*</span> <span class="hljs-string">*</span> <span class="hljs-number">0</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">ConfigMap</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/part-of:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-config-results-retention-policy</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">namespace:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">data:</span>
<span class="hljs-string">1310c1271</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">blob</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">S3</span>
<span class="hljs-string">1357c1318</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-api:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-api:e35af9274c0df84386b73aae8df0ad496ad175df</span>
<span class="hljs-number">1453</span><span class="hljs-string">,1527d1413</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/part-of:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">namespace:</span> <span class="hljs-string">tekton-results</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">spec:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">replicas:</span> <span class="hljs-number">0</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">selector:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">matchLabels:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">template:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">cluster-autoscaler.kubernetes.io/safe-to-evict:</span> <span class="hljs-string">&quot;false&quot;</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">labels:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">app.kubernetes.io/name:</span> <span class="hljs-string">tekton-results-retention-policy-agent</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">app.kubernetes.io/version:</span> <span class="hljs-string">devel</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">spec:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">containers:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">env:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">SYSTEM_NAMESPACE</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">fieldRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">fieldPath:</span> <span class="hljs-string">metadata.namespace</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">CONFIG_LOGGING_NAME</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">value:</span> <span class="hljs-string">tekton-results-config-logging</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">DB_USER</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">key:</span> <span class="hljs-string">POSTGRES_USER</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-postgres</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">valueFrom:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">secretKeyRef:</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-postgres</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-retention-policy-agent:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">name:</span> <span class="hljs-string">retention-policy-agent</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">resources:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">limits:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">cpu:</span> <span class="hljs-string">500m</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">memory:</span> <span class="hljs-string">128Mi</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">requests:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">cpu:</span> <span class="hljs-string">5m</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">memory:</span> <span class="hljs-string">64Mi</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">securityContext:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">allowPrivilegeEscalation:</span> <span class="hljs-literal">false</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">capabilities:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">drop:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-bullet">-</span> <span class="hljs-string">ALL</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnlyRootFilesystem:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">runAsNonRoot:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">seccompProfile:</span>
<span class="hljs-string">&lt;</span>             <span class="hljs-attr">type:</span> <span class="hljs-string">RuntimeDefault</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">volumeMounts:</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/tekton/results</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">config</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/etc/tls</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">tls</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">serviceAccountName:</span> <span class="hljs-string">tekton-results-watcher</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-attr">volumes:</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">configMap:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">name:</span> <span class="hljs-string">tekton-results-api-config</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">name:</span> <span class="hljs-string">config</span>
<span class="hljs-string">&lt;</span>       <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">tls</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">secret:</span>
<span class="hljs-string">&lt;</span>           <span class="hljs-attr">secretName:</span> <span class="hljs-string">tekton-results-tls</span>
<span class="hljs-string">&lt;</span> <span class="hljs-string">---</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">kind:</span> <span class="hljs-string">Deployment</span>
<span class="hljs-string">&lt;</span> <span class="hljs-attr">metadata:</span>
<span class="hljs-string">&lt;</span>   <span class="hljs-attr">annotations:</span>
<span class="hljs-string">&lt;</span>     <span class="hljs-attr">argocd.argoproj.io/sync-options:</span> <span class="hljs-string">SkipDryRunOnMissingResource=true</span>
<span class="hljs-string">1574d1459</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-bullet">-</span> <span class="hljs-string">-logs_api=true</span>
<span class="hljs-string">1592c1477</span>
<span class="hljs-string">&lt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/konflux-ci/tekton-results-watcher:b4017a355cafd589c3ae9a31f3d869e21a4b77fe</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>         <span class="hljs-attr">image:</span> <span class="hljs-string">quay.io/redhat-appstudio/tekton-results-watcher:bae7851ff584423503af324200f52cd28ca99116</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>

          </div>
          <style type='text/css'>body {
    font: 400 16px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: #111;
    background-color: #fbfbfb;
    -webkit-text-size-adjust: 100%;
    -webkit-font-feature-settings: "kern" 1;
    -moz-font-feature-settings: "kern" 1;
    -o-font-feature-settings: "kern" 1;
    font-feature-settings: "kern" 1;
    font-kerning: normal;
    padding: 30px;
}

@media only screen and (max-width: 600px) {
    body {
        padding: 5px;
    }
    body>#content {
        padding: 0px 20px 20px 20px !important;
    }
}

body>#content {
    margin: 0px;
    max-width: 1024px;
    border: 1px solid #e1e4e8;
    padding: 10px 40px;
    padding-bottom: 20px;
    border-radius: 2px;
    margin-left: auto;
    margin-right: auto;
}

summary {
    cursor: pointer;
    text-decoration: underline;
}

hr {
    color: #bbb;
    background-color: #bbb;
    height: 1px;
    flex: 0 1 auto;
    margin: 1em 0;
    padding: 0;
    border: none;
}

.hljs-operator {
    color: #868686;
    /* There is a bug where the syntax highlighter would pick no color for e.g. `&&` symbols in the code samples. Let's overwrite this */
}


/**
 * Links
 */

a {
    color: #0366d6;
    text-decoration: none;
}

a:visited {
    color: #0366d6;
}

a:hover {
    color: #0366d6;
    text-decoration: underline;
}

pre {
    background-color: #f6f8fa;
    border-radius: 3px;
    font-size: 85%;
    line-height: 1.45;
    overflow: auto;
    padding: 16px;
}


/**
  * Code blocks
  */

code {
    background-color: rgba(27, 31, 35, .05);
    border-radius: 3px;
    font-size: 85%;
    margin: 0;
    word-wrap: break-word;
    padding: .2em .4em;
    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
}

pre>code {
    background-color: transparent;
    border: 0;
    display: inline;
    line-height: inherit;
    margin: 0;
    overflow: visible;
    padding: 0;
    word-wrap: normal;
    font-size: 100%;
}


/**
 * Blockquotes
 */

blockquote {
    margin-left: 30px;
    margin-top: 0px;
    margin-bottom: 16px;
    border-left-width: 3px;
    padding: 0 1em;
    color: #828282;
    border-left: 4px solid #e8e8e8;
    padding-left: 15px;
    font-size: 18px;
    letter-spacing: -1px;
    font-style: italic;
}

blockquote * {
    font-style: normal !important;
    letter-spacing: 0;
    color: #6a737d !important;
}


/**
 * Tables
 */

table {
    border-spacing: 2px;
    display: block;
    font-size: 14px;
    overflow: auto;
    width: 100%;
    margin-bottom: 16px;
    border-spacing: 0;
    border-collapse: collapse;
}

td {
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
}

th {
    font-weight: 600;
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
}

tr {
    background-color: #fff;
    border-top: 1px solid #c6cbd1;
}

table tr:nth-child(2n) {
    background-color: #f6f8fa;
}


/**
 * Others
 */

img {
    max-width: 100%;
}

p {
    line-height: 24px;
    font-weight: 400;
    font-size: 16px;
    color: #24292e;
}

ul {
    margin-top: 0;
}

li {
    color: #24292e;
    font-size: 16px;
    font-weight: 400;
    line-height: 1.5;
}

li+li {
    margin-top: 0.25em;
}

* {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    color: #24292e;
}

a:visited {
    color: #0366d6;
}

h1,
h2,
h3 {
    border-bottom: 1px solid #eaecef;
    color: #111;
    /* Darker */
}

code>* {
    font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace !important;
}</style>
          <style type='text/css'>pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em
}
code.hljs {
  padding: 3px 5px
}
/*

Atom One Dark by Daniel Gamage
Original One Dark Syntax theme from https://github.com/atom/one-dark-syntax

base:    #282c34
mono-1:  #abb2bf
mono-2:  #818896
mono-3:  #5c6370
hue-1:   #56b6c2
hue-2:   #61aeee
hue-3:   #c678dd
hue-4:   #98c379
hue-5:   #e06c75
hue-5-2: #be5046
hue-6:   #d19a66
hue-6-2: #e6c07b

*/
.hljs {
  color: #abb2bf;
  background: #282c34
}
.hljs-comment,
.hljs-quote {
  color: #5c6370;
  font-style: italic
}
.hljs-doctag,
.hljs-keyword,
.hljs-formula {
  color: #c678dd
}
.hljs-section,
.hljs-name,
.hljs-selector-tag,
.hljs-deletion,
.hljs-subst {
  color: #e06c75
}
.hljs-literal {
  color: #56b6c2
}
.hljs-string,
.hljs-regexp,
.hljs-addition,
.hljs-attribute,
.hljs-meta .hljs-string {
  color: #98c379
}
.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-type,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-number {
  color: #d19a66
}
.hljs-symbol,
.hljs-bullet,
.hljs-link,
.hljs-meta,
.hljs-selector-id,
.hljs-title {
  color: #61aeee
}
.hljs-built_in,
.hljs-title.class_,
.hljs-class .hljs-title {
  color: #e6c07b
}
.hljs-emphasis {
  font-style: italic
}
.hljs-strong {
  font-weight: bold
}
.hljs-link {
  text-decoration: underline
}</style>
        </body>
      </html>
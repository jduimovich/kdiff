
      <html>
        <head>
          <title>Kustomize</title>
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <meta charset="UTF-8">
          <script defer data-domain="jduimovich" src="https://plausible.io/js/script.js"></script>
        
        </head>
        <body>
          <div id='content'>
      <h1 id="kustomize-changes-tracked-by-commits">kustomize changes tracked by commits</h1>
<h3 id="this-file-generated-at-mon-dec--9-120749-utc-2024">This file generated at Mon Dec  9 12:07:49 UTC 2024</h3>
<h2 id="repo---httpsgithubcomredhat-appstudioinfra-deploymentsgit">Repo - https://github.com/redhat-appstudio/infra-deployments.git</h2>
<h2 id="overlays-production-staging-development">Overlays: production staging development</h2>
<h2 id="showing-last-4-commits">Showing last 4 commits</h2>
<div>
<h3>1: Production changes from 6ff28774 to 43343074 on Mon Dec 9 11:32:48 2024 </h3>  

<details> 
<summary>Git Diff (33 lines)</summary>  
<pre><code>  diff <span class="hljs-attr">--git</span> <span class="hljs-selector-tag">a</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span> <span class="hljs-selector-tag">b</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
index c2e07bd0..<span class="hljs-number">86488</span>ceb <span class="hljs-number">100644</span>
--- <span class="hljs-selector-tag">a</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
+++ <span class="hljs-selector-tag">b</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
@@ -<span class="hljs-number">500</span>,<span class="hljs-number">17</span> +<span class="hljs-number">500</span>,<span class="hljs-number">17</span> @@ <span class="hljs-attribute">data</span>:
   host.sysz-rhtap-prod-<span class="hljs-number">8</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
   host.sysz-rhtap-prod-<span class="hljs-number">8</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;1&quot;</span>

-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.63.184.30&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
-
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.59.164.141&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.63.184.30&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
+
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.59.164.141&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>

   # dynamic.linux-s390x.<span class="hljs-attribute">type</span>: ibmz
   # dynamic.linux-s390x.<span class="hljs-attribute">ssh-secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span> 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (12 lines)</summary>  
<pre><code>  ./commit-<span class="hljs-number">6</span>ff28774/production/components/multi-platform-controller/production/kustomize<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.yaml</span>
<span class="hljs-number">704</span>a705,<span class="hljs-number">714</span>
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-9</span><span class="hljs-selector-class">.address</span>: <span class="hljs-number">169.63</span>.<span class="hljs-number">184.30</span>
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-9</span><span class="hljs-selector-class">.concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-9</span><span class="hljs-selector-class">.platform</span>: linux/s390x
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-9</span><span class="hljs-selector-class">.secret</span>: ibm-production-s390x-ssh-key
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-9</span><span class="hljs-selector-class">.user</span>: root
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-10</span><span class="hljs-selector-class">.address</span>: <span class="hljs-number">169.59</span>.<span class="hljs-number">164.141</span>
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-10</span><span class="hljs-selector-class">.concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-10</span><span class="hljs-selector-class">.platform</span>: linux/s390x
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-10</span><span class="hljs-selector-class">.secret</span>: ibm-production-s390x-ssh-key
&gt;   host<span class="hljs-selector-class">.sysz-rhtap-prod-10</span><span class="hljs-selector-class">.user</span>: root 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>1: Staging changes from 6ff28774 to 43343074 on Mon Dec 9 11:32:48 2024 </h3>  

<details> 
<summary>Git Diff (33 lines)</summary>  
<pre><code>  diff <span class="hljs-attr">--git</span> <span class="hljs-selector-tag">a</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span> <span class="hljs-selector-tag">b</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
index c2e07bd0..<span class="hljs-number">86488</span>ceb <span class="hljs-number">100644</span>
--- <span class="hljs-selector-tag">a</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
+++ <span class="hljs-selector-tag">b</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
@@ -<span class="hljs-number">500</span>,<span class="hljs-number">17</span> +<span class="hljs-number">500</span>,<span class="hljs-number">17</span> @@ <span class="hljs-attribute">data</span>:
   host.sysz-rhtap-prod-<span class="hljs-number">8</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
   host.sysz-rhtap-prod-<span class="hljs-number">8</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;1&quot;</span>

-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.63.184.30&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
-
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.59.164.141&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.63.184.30&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
+
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.59.164.141&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>

   # dynamic.linux-s390x.<span class="hljs-attribute">type</span>: ibmz
   # dynamic.linux-s390x.<span class="hljs-attribute">ssh-secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span> 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>1: Development changes from 6ff28774 to 43343074 on Mon Dec 9 11:32:48 2024 </h3>  

<details> 
<summary>Git Diff (33 lines)</summary>  
<pre><code>  diff <span class="hljs-attr">--git</span> <span class="hljs-selector-tag">a</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span> <span class="hljs-selector-tag">b</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
index c2e07bd0..<span class="hljs-number">86488</span>ceb <span class="hljs-number">100644</span>
--- <span class="hljs-selector-tag">a</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
+++ <span class="hljs-selector-tag">b</span>/components/multi-platform-controller/production/host-config<span class="hljs-selector-class">.yaml</span>
@@ -<span class="hljs-number">500</span>,<span class="hljs-number">17</span> +<span class="hljs-number">500</span>,<span class="hljs-number">17</span> @@ <span class="hljs-attribute">data</span>:
   host.sysz-rhtap-prod-<span class="hljs-number">8</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
   host.sysz-rhtap-prod-<span class="hljs-number">8</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;1&quot;</span>

-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.63.184.30&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
-
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.59.164.141&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
-  host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.63.184.30&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">9</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>
+
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">address</span>: <span class="hljs-string">&quot;169.59.164.141&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">platform</span>: <span class="hljs-string">&quot;linux/s390x&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">user</span>: <span class="hljs-string">&quot;root&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span>
+  # host.sysz-rhtap-prod-<span class="hljs-number">10</span>.<span class="hljs-attribute">concurrency</span>: <span class="hljs-string">&quot;2&quot;</span>

   # dynamic.linux-s390x.<span class="hljs-attribute">type</span>: ibmz
   # dynamic.linux-s390x.<span class="hljs-attribute">ssh-secret</span>: <span class="hljs-string">&quot;ibm-production-s390x-ssh-key&quot;</span> 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>2: Production changes from 9d2407fe to 6ff28774 on Mon Dec 9 10:25:06 2024 </h3>  

<details> 
<summary>Git Diff (52 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/development/main-pipeline-service-configuration.yaml b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 65b85519..cad1d781 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -1799,7 +1799,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index df6c6a65..61fe6e7f 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -1751,7 +1751,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 8b3bbc79..51be8ec8 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -1740,7 +1740,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 61aeefc8..27299c20 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -1740,7 +1740,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms: 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>2: Staging changes from 9d2407fe to 6ff28774 on Mon Dec 9 10:25:06 2024 </h3>  

<details> 
<summary>Git Diff (52 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/development/main-pipeline-service-configuration.yaml b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 65b85519..cad1d781 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -1799,7 +1799,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index df6c6a65..61fe6e7f 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -1751,7 +1751,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 8b3bbc79..51be8ec8 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -1740,7 +1740,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 61aeefc8..27299c20 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -1740,7 +1740,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms: 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (10 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-9d2407fe/staging/components/pipeline-service/staging/stone-stage-p01/kustomize.out.yaml</span>
<span class="hljs-string">1739c1739</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">extra_label_selector:</span> <span class="hljs-string">&quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>               <span class="hljs-attr">extra_label_selector:</span> <span class="hljs-string">&quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-string">./commit-9d2407fe/staging/components/pipeline-service/staging/stone-stg-rh01/kustomize.out.yaml</span>
<span class="hljs-string">1739c1739</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">extra_label_selector:</span> <span class="hljs-string">&quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>               <span class="hljs-attr">extra_label_selector:</span> <span class="hljs-string">&quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>2: Development changes from 9d2407fe to 6ff28774 on Mon Dec 9 10:25:06 2024 </h3>  

<details> 
<summary>Git Diff (52 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/development/main-pipeline-service-configuration.yaml b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 65b85519..cad1d781 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/development/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -1799,7 +1799,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index df6c6a65..61fe6e7f 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -1751,7 +1751,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">index 8b3bbc79..51be8ec8 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stage-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -1740,7 +1740,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms:
<span class="hljs-comment">diff --git a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">index 61aeefc8..27299c20 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/staging/stone-stg-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -1740,7 +1740,7 @@</span> spec:
               rotate_wait_secs: 5
               glob_minimum_cooldown_ms: 15000
               auto_partial_merge: true
<span class="hljs-deletion">-              extra_label_selector: &quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span>
<span class="hljs-addition">+              extra_label_selector: &quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
             internal_metrics:
               type: internal_metrics
           transforms: 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (5 lines)</summary>  
<pre><code>  <span class="hljs-string">./commit-9d2407fe/development/components/pipeline-service/development/kustomize.out.yaml</span>
<span class="hljs-string">1667c1667</span>
<span class="hljs-string">&lt;</span>               <span class="hljs-attr">extra_label_selector:</span> <span class="hljs-string">&quot;app.kubernetes.io/managed-by in (tekton-pipelines,pipelinesascode.tekton.dev)&quot;</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">&gt;</span>               <span class="hljs-attr">extra_label_selector:</span> <span class="hljs-string">&quot;app.kubernetes.io/managed-by=tekton-pipelines&quot;</span> 
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>3: Production changes from 7e560ecd to 9d2407fe on Mon Dec 9 09:29:55 2024 </h3>  

<details> 
<summary>Git Diff (1400 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 82c45934..0ded61fe 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -20,14 +20,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -129,37 +121,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -179,27 +140,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -504,22 +444,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -536,21 +460,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1282,69 +1191,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml b/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-comment">index f92c41dd..83939f53 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">index 48661c16..84a4b362 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -177,37 +169,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -227,27 +188,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -739,22 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -771,21 +695,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1697,69 +1606,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prd-m01/deploy.yaml b/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-comment">index 1a9129d8..d9c149d9 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prd-rh01/deploy.yaml b/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-comment">index 5bbba8fb..6678afa2 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prod-p01/deploy.yaml b/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-comment">index 13a07379..a98bf9e6 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prod-p02/deploy.yaml b/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-comment">index 8af51969..6d1df73f 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata: 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (644 lines)</summary>  
<pre><code>  ./commit-7e560ecd/production/components/pipeline-service/production/stone-prd-m01/kustomize.out.yaml
32a33,40
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
159a168,198
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resourceNames</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - serviceaccounts</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - batch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - cronjobs</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
177a217,237
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - namespaces</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
669a730,745
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-argocd-application-controller</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-gitops</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
684a761,775
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
1574a1666,1728
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: batch/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">CronJob</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-reaper</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">concurrencyPolicy</span>: <span class="hljs-title class_">Forbid</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">jobTemplate</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">template</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">containers</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          - <span class="hljs-attr">command</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - <span class="hljs-regexp">/bin/</span>bash</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - -c</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - |</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              # <span class="hljs-title class_">Delete</span> <span class="hljs-string">&quot;pac-gitauth-*&quot;</span> secrets older than a day</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o errexit</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o nounset</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o pipefail</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-keyword">for</span> namespace <span class="hljs-keyword">in</span> $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E <span class="hljs-string">&quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;</span>); <span class="hljs-keyword">do</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                echo <span class="hljs-string">&quot;$namespace: Cleaning pac-gitauth secrets&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  jq -r <span class="hljs-string">&#x27;.items[] |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.name |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    startswith(&quot;pac-gitauth-&quot;)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    &quot;secret/&quot; + .metadata.name</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                  &#x27;</span> | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  xargs --max-args <span class="hljs-number">1</span> --no-run-<span class="hljs-keyword">if</span>-empty kubectl <span class="hljs-keyword">delete</span> -n $namespace</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              done</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              echo <span class="hljs-string">&quot;Done&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">image</span>: registry.<span class="hljs-property">redhat</span>.<span class="hljs-property">io</span>/openshift4/ose-tools-rhel8@<span class="hljs-attr">sha256</span>:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">imagePullPolicy</span>: <span class="hljs-title class_">Always</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-keyword">delete</span>-pac-secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">limits</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">requests</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">securityContext</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">allowPrivilegeEscalation</span>: <span class="hljs-literal">false</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">capabilities</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">drop</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                - <span class="hljs-variable constant_">ALL</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">readOnlyRootFilesystem</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">runAsNonRoot</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">seccompProfile</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-title class_">RuntimeDefault</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">restartPolicy</span>: <span class="hljs-title class_">Never</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">serviceAccountName</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">schedule</span>: <span class="hljs-string">&#x27;*/10 * * * *&#x27;</span></span>
./commit-7e560ecd/production/components/pipeline-service/production/stone-prd-rh01/kustomize.out.yaml
32a33,40
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
159a168,198
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resourceNames</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - serviceaccounts</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - batch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - cronjobs</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
177a217,237
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - namespaces</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
669a730,745
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-argocd-application-controller</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-gitops</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
684a761,775
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
1574a1666,1728
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: batch/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">CronJob</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-reaper</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">concurrencyPolicy</span>: <span class="hljs-title class_">Forbid</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">jobTemplate</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">template</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">containers</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          - <span class="hljs-attr">command</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - <span class="hljs-regexp">/bin/</span>bash</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - -c</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - |</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              # <span class="hljs-title class_">Delete</span> <span class="hljs-string">&quot;pac-gitauth-*&quot;</span> secrets older than a day</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o errexit</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o nounset</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o pipefail</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-keyword">for</span> namespace <span class="hljs-keyword">in</span> $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E <span class="hljs-string">&quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;</span>); <span class="hljs-keyword">do</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                echo <span class="hljs-string">&quot;$namespace: Cleaning pac-gitauth secrets&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  jq -r <span class="hljs-string">&#x27;.items[] |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.name |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    startswith(&quot;pac-gitauth-&quot;)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    &quot;secret/&quot; + .metadata.name</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                  &#x27;</span> | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  xargs --max-args <span class="hljs-number">1</span> --no-run-<span class="hljs-keyword">if</span>-empty kubectl <span class="hljs-keyword">delete</span> -n $namespace</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              done</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              echo <span class="hljs-string">&quot;Done&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">image</span>: registry.<span class="hljs-property">redhat</span>.<span class="hljs-property">io</span>/openshift4/ose-tools-rhel8@<span class="hljs-attr">sha256</span>:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">imagePullPolicy</span>: <span class="hljs-title class_">Always</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-keyword">delete</span>-pac-secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">limits</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">requests</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">securityContext</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">allowPrivilegeEscalation</span>: <span class="hljs-literal">false</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">capabilities</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">drop</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                - <span class="hljs-variable constant_">ALL</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">readOnlyRootFilesystem</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">runAsNonRoot</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">seccompProfile</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-title class_">RuntimeDefault</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">restartPolicy</span>: <span class="hljs-title class_">Never</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">serviceAccountName</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">schedule</span>: <span class="hljs-string">&#x27;*/10 * * * *&#x27;</span></span>
./commit-7e560ecd/production/components/pipeline-service/production/stone-prod-p01/kustomize.out.yaml
32a33,40
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
159a168,198
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resourceNames</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - serviceaccounts</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - batch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - cronjobs</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
177a217,237
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - namespaces</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
669a730,745
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-argocd-application-controller</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-gitops</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
684a761,775
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
1574a1666,1728
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: batch/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">CronJob</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-reaper</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">concurrencyPolicy</span>: <span class="hljs-title class_">Forbid</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">jobTemplate</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">template</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">containers</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          - <span class="hljs-attr">command</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - <span class="hljs-regexp">/bin/</span>bash</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - -c</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - |</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              # <span class="hljs-title class_">Delete</span> <span class="hljs-string">&quot;pac-gitauth-*&quot;</span> secrets older than a day</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o errexit</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o nounset</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o pipefail</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-keyword">for</span> namespace <span class="hljs-keyword">in</span> $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E <span class="hljs-string">&quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;</span>); <span class="hljs-keyword">do</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                echo <span class="hljs-string">&quot;$namespace: Cleaning pac-gitauth secrets&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  jq -r <span class="hljs-string">&#x27;.items[] |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.name |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    startswith(&quot;pac-gitauth-&quot;)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    &quot;secret/&quot; + .metadata.name</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                  &#x27;</span> | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  xargs --max-args <span class="hljs-number">1</span> --no-run-<span class="hljs-keyword">if</span>-empty kubectl <span class="hljs-keyword">delete</span> -n $namespace</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              done</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              echo <span class="hljs-string">&quot;Done&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">image</span>: registry.<span class="hljs-property">redhat</span>.<span class="hljs-property">io</span>/openshift4/ose-tools-rhel8@<span class="hljs-attr">sha256</span>:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">imagePullPolicy</span>: <span class="hljs-title class_">Always</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-keyword">delete</span>-pac-secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">limits</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">requests</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">securityContext</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">allowPrivilegeEscalation</span>: <span class="hljs-literal">false</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">capabilities</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">drop</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                - <span class="hljs-variable constant_">ALL</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">readOnlyRootFilesystem</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">runAsNonRoot</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">seccompProfile</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-title class_">RuntimeDefault</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">restartPolicy</span>: <span class="hljs-title class_">Never</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">serviceAccountName</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">schedule</span>: <span class="hljs-string">&#x27;*/10 * * * *&#x27;</span></span>
./commit-7e560ecd/production/components/pipeline-service/production/stone-prod-p02/kustomize.out.yaml
32a33,40
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
159a168,198
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resourceNames</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - serviceaccounts</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - batch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - cronjobs</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - get</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - patch</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - create</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
177a217,237
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">rules</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - namespaces</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">apiGroups</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-string">&quot;&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">verbs</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - list</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  - <span class="hljs-keyword">delete</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
669a730,745
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-cronjobs-admin</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: openshift-gitops-argocd-application-controller</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-gitops</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">wave</span>: <span class="hljs-string">&quot;0&quot;</span></span>
684a761,775
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">roleRef</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">apiGroup</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRole</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">subjects</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">- <span class="hljs-attr">kind</span>: <span class="hljs-title class_">ServiceAccount</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: rbac.<span class="hljs-property">authorization</span>.<span class="hljs-property">k8s</span>.<span class="hljs-property">io</span>/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">ClusterRoleBinding</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
1574a1666,1728
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">---</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">apiVersion</span>: batch/v1</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">kind</span>: <span class="hljs-title class_">CronJob</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">name</span>: pac-secret-reaper</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">namespace</span>: openshift-pipelines</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">concurrencyPolicy</span>: <span class="hljs-title class_">Forbid</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">jobTemplate</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">    <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">      <span class="hljs-attr">template</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">metadata</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">annotations</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            argocd.<span class="hljs-property">argoproj</span>.<span class="hljs-property">io</span>/sync-<span class="hljs-attr">options</span>: <span class="hljs-title class_">SkipDryRunOnMissingResource</span>=<span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">        <span class="hljs-attr">spec</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">containers</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          - <span class="hljs-attr">command</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - <span class="hljs-regexp">/bin/</span>bash</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - -c</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            - |</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              # <span class="hljs-title class_">Delete</span> <span class="hljs-string">&quot;pac-gitauth-*&quot;</span> secrets older than a day</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o errexit</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o nounset</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              set -o pipefail</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-keyword">for</span> namespace <span class="hljs-keyword">in</span> $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E <span class="hljs-string">&quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;</span>); <span class="hljs-keyword">do</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                echo <span class="hljs-string">&quot;$namespace: Cleaning pac-gitauth secrets&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  jq -r <span class="hljs-string">&#x27;.items[] |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.name |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    startswith(&quot;pac-gitauth-&quot;)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                    &quot;secret/&quot; + .metadata.name</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-string">                  &#x27;</span> | \</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                  xargs --max-args <span class="hljs-number">1</span> --no-run-<span class="hljs-keyword">if</span>-empty kubectl <span class="hljs-keyword">delete</span> -n $namespace</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              done</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              echo <span class="hljs-string">&quot;Done&quot;</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">image</span>: registry.<span class="hljs-property">redhat</span>.<span class="hljs-property">io</span>/openshift4/ose-tools-rhel8@<span class="hljs-attr">sha256</span>:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">imagePullPolicy</span>: <span class="hljs-title class_">Always</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-keyword">delete</span>-pac-secrets</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">resources</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">limits</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">requests</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">cpu</span>: 200m</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">memory</span>: 200Mi</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">            <span class="hljs-attr">securityContext</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">allowPrivilegeEscalation</span>: <span class="hljs-literal">false</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">capabilities</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">drop</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                - <span class="hljs-variable constant_">ALL</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">readOnlyRootFilesystem</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">runAsNonRoot</span>: <span class="hljs-literal">true</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">              <span class="hljs-attr">seccompProfile</span>:</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-title class_">RuntimeDefault</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">restartPolicy</span>: <span class="hljs-title class_">Never</span></span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">          <span class="hljs-attr">serviceAccountName</span>: pac-secret-manager</span>
<span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">  <span class="hljs-attr">schedule</span>: <span class="hljs-string">&#x27;*/10 * * * *&#x27;</span> </span>
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>3: Staging changes from 7e560ecd to 9d2407fe on Mon Dec 9 09:29:55 2024 </h3>  

<details> 
<summary>Git Diff (1400 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 82c45934..0ded61fe 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -20,14 +20,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -129,37 +121,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -179,27 +140,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -504,22 +444,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -536,21 +460,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1282,69 +1191,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml b/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-comment">index f92c41dd..83939f53 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">index 48661c16..84a4b362 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -177,37 +169,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -227,27 +188,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -739,22 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -771,21 +695,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1697,69 +1606,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prd-m01/deploy.yaml b/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-comment">index 1a9129d8..d9c149d9 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prd-rh01/deploy.yaml b/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-comment">index 5bbba8fb..6678afa2 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prod-p01/deploy.yaml b/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-comment">index 13a07379..a98bf9e6 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prod-p02/deploy.yaml b/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-comment">index 8af51969..6d1df73f 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata: 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>3: Development changes from 7e560ecd to 9d2407fe on Mon Dec 9 09:29:55 2024 </h3>  

<details> 
<summary>Git Diff (1400 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml b/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">index 82c45934..0ded61fe 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/base/main-pipeline-service-configuration.yaml</span>
<span class="hljs-meta">@@ -20,14 +20,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -129,37 +121,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -179,27 +140,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -504,22 +444,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -536,21 +460,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1282,69 +1191,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: monitoring.coreos.com/v1
 kind: ServiceMonitor
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml b/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-comment">index f92c41dd..83939f53 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-ocp-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">index 48661c16..84a4b362 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -177,37 +169,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -227,27 +188,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -739,22 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -771,21 +695,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1697,69 +1606,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prd-m01/deploy.yaml b/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-comment">index 1a9129d8..d9c149d9 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prd-m01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prd-rh01/deploy.yaml b/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-comment">index 5bbba8fb..6678afa2 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prd-rh01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prod-p01/deploy.yaml b/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-comment">index 13a07379..a98bf9e6 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prod-p01/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/stone-prod-p02/deploy.yaml b/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-comment">index 8af51969..6d1df73f 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/stone-prod-p02/deploy.yaml</span>
<span class="hljs-meta">@@ -27,14 +27,6 @@</span> metadata:
 ---
 apiVersion: v1
 kind: ServiceAccount
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: v1</span>
<span class="hljs-deletion">-kind: ServiceAccount</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -161,37 +153,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resourceNames:</span>
<span class="hljs-deletion">-  - pac-secret-manager</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - serviceaccounts</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - batch</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - cronjobs</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - get</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - patch</span>
<span class="hljs-deletion">-  - create</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -211,27 +172,6 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-rules:</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - namespaces</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-- apiGroups:</span>
<span class="hljs-deletion">-  - &quot;&quot;</span>
<span class="hljs-deletion">-  resources:</span>
<span class="hljs-deletion">-  - secrets</span>
<span class="hljs-deletion">-  verbs:</span>
<span class="hljs-deletion">-  - list</span>
<span class="hljs-deletion">-  - delete</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -723,22 +663,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: openshift-gitops-cronjobs-admin</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: openshift-gitops-argocd-application-controller</span>
<span class="hljs-deletion">-  namespace: openshift-gitops</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -755,21 +679,6 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-roleRef:</span>
<span class="hljs-deletion">-  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-deletion">-  kind: ClusterRole</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-subjects:</span>
<span class="hljs-deletion">-- kind: ServiceAccount</span>
<span class="hljs-deletion">-  name: pac-secret-manager</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-comment">----</span>
<span class="hljs-deletion">-apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-deletion">-kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -1666,69 +1575,6 @@</span> spec:
         secret:
           secretName: tekton-results-tls
 ---
<span class="hljs-deletion">-apiVersion: batch/v1</span>
<span class="hljs-deletion">-kind: CronJob</span>
<span class="hljs-deletion">-metadata:</span>
<span class="hljs-deletion">-  annotations:</span>
<span class="hljs-deletion">-    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-  name: pac-secret-reaper</span>
<span class="hljs-deletion">-  namespace: openshift-pipelines</span>
<span class="hljs-deletion">-spec:</span>
<span class="hljs-deletion">-  concurrencyPolicy: Forbid</span>
<span class="hljs-deletion">-  jobTemplate:</span>
<span class="hljs-deletion">-    metadata:</span>
<span class="hljs-deletion">-      annotations:</span>
<span class="hljs-deletion">-        argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-    spec:</span>
<span class="hljs-deletion">-      template:</span>
<span class="hljs-deletion">-        metadata:</span>
<span class="hljs-deletion">-          annotations:</span>
<span class="hljs-deletion">-            argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true</span>
<span class="hljs-deletion">-        spec:</span>
<span class="hljs-deletion">-          containers:</span>
<span class="hljs-deletion">-          - command:</span>
<span class="hljs-deletion">-            - /bin/bash</span>
<span class="hljs-deletion">-            - -c</span>
<span class="hljs-deletion">-            - |</span>
<span class="hljs-deletion">-              # Delete &quot;pac-gitauth-*&quot; secrets older than a day</span>
<span class="hljs-deletion">-              set -o errexit</span>
<span class="hljs-deletion">-              set -o nounset</span>
<span class="hljs-deletion">-              set -o pipefail</span>
<span class="hljs-deletion">-              for namespace in $(kubectl get namespaces -o name | cut -d/ -f2 | grep -E &quot;\\-tenant$|^tekton-ci$|^konflux-ci$&quot;); do</span>
<span class="hljs-deletion">-                echo &quot;$namespace: Cleaning pac-gitauth secrets&quot;</span>
<span class="hljs-deletion">-                kubectl get secrets --namespace $namespace -o json | \</span>
<span class="hljs-deletion">-                  jq -r &#x27;.items[] |</span>
<span class="hljs-deletion">-                    select(.metadata.name |</span>
<span class="hljs-deletion">-                    startswith(&quot;pac-gitauth-&quot;)) |</span>
<span class="hljs-deletion">-                    select(.metadata.creationTimestamp | fromdateiso8601 &lt; (now - 86400)) |</span>
<span class="hljs-deletion">-                    &quot;secret/&quot; + .metadata.name</span>
<span class="hljs-deletion">-                  &#x27; | \</span>
<span class="hljs-deletion">-                  xargs --max-args 1 --no-run-if-empty kubectl delete -n $namespace</span>
<span class="hljs-deletion">-              done</span>
<span class="hljs-deletion">-              echo &quot;Done&quot;</span>
<span class="hljs-deletion">-            image: registry.redhat.io/openshift4/ose-tools-rhel8@sha256:1054e906ee0183531b401d3c0b0d777cecb25ef95b1c9c48387c6cd7b0e57b9d</span>
<span class="hljs-deletion">-            imagePullPolicy: Always</span>
<span class="hljs-deletion">-            name: delete-pac-secrets</span>
<span class="hljs-deletion">-            resources:</span>
<span class="hljs-deletion">-              limits:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-              requests:</span>
<span class="hljs-deletion">-                cpu: 200m</span>
<span class="hljs-deletion">-                memory: 200Mi</span>
<span class="hljs-deletion">-            securityContext:</span>
<span class="hljs-deletion">-              allowPrivilegeEscalation: false</span>
<span class="hljs-deletion">-              capabilities:</span>
<span class="hljs-deletion">-                drop:</span>
<span class="hljs-deletion">-                - ALL</span>
<span class="hljs-deletion">-              readOnlyRootFilesystem: true</span>
<span class="hljs-deletion">-              runAsNonRoot: true</span>
<span class="hljs-deletion">-              seccompProfile:</span>
<span class="hljs-deletion">-                type: RuntimeDefault</span>
<span class="hljs-deletion">-          restartPolicy: Never</span>
<span class="hljs-deletion">-          serviceAccountName: pac-secret-manager</span>
<span class="hljs-deletion">-  schedule: &#x27;*/10 * * * *&#x27;</span>
<span class="hljs-comment">----</span>
 apiVersion: external-secrets.io/v1beta1
 kind: ExternalSecret
 metadata: 
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>4: Production changes from cd213d4c to 7e560ecd on Mon Dec 9 08:58:25 2024 </h3>  

<details> 
<summary>Git Diff (98 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">index 369bdce8..48661c16 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-meta">@@ -122,6 +122,22 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+rules:</span>
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - security.openshift.io</span>
<span class="hljs-addition">+  resourceNames:</span>
<span class="hljs-addition">+  - appstudio-pipelines-scc</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - securitycontextconstraints</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - use</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -833,6 +849,21 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller-konflux-scc</span>
<span class="hljs-addition">+roleRef:</span>
<span class="hljs-addition">+  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-addition">+  kind: ClusterRole</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+subjects:</span>
<span class="hljs-addition">+- kind: ServiceAccount</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller</span>
<span class="hljs-addition">+  namespace: openshift-pipelines</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml b/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-comment">index f3296b8e..4e58ded0 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-meta">@@ -2,6 +2,7 @@</span> apiVersion: kustomize.config.k8s.io/v1beta1
 kind: Kustomization
 resources:
   - ../../base
<span class="hljs-addition">+  - scc-rbac.yaml</span>
 patches:
   - path: tekton-chains-public-key-path.yaml
     target:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml b/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml</span>
new file mode 100644
<span class="hljs-comment">index 00000000..8d34cb07</span>
<span class="hljs-comment">--- /dev/null</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml</span>
<span class="hljs-meta">@@ -0,0 +1,31 @@</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRole</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+rules:</span>
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - security.openshift.io</span>
<span class="hljs-addition">+  resourceNames:</span>
<span class="hljs-addition">+  - appstudio-pipelines-scc</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - securitycontextconstraints</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - use</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+kind: ClusterRoleBinding</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller-konflux-scc</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+subjects:</span>
<span class="hljs-addition">+  - kind: ServiceAccount</span>
<span class="hljs-addition">+    name: tekton-pipelines-controller</span>
<span class="hljs-addition">+    namespace: openshift-pipelines</span>
<span class="hljs-addition">+roleRef:</span>
<span class="hljs-addition">+  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-addition">+  kind: ClusterRole</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner </span>
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>4: Staging changes from cd213d4c to 7e560ecd on Mon Dec 9 08:58:25 2024 </h3>  

<details> 
<summary>Git Diff (98 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">index 369bdce8..48661c16 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-meta">@@ -122,6 +122,22 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+rules:</span>
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - security.openshift.io</span>
<span class="hljs-addition">+  resourceNames:</span>
<span class="hljs-addition">+  - appstudio-pipelines-scc</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - securitycontextconstraints</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - use</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -833,6 +849,21 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller-konflux-scc</span>
<span class="hljs-addition">+roleRef:</span>
<span class="hljs-addition">+  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-addition">+  kind: ClusterRole</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+subjects:</span>
<span class="hljs-addition">+- kind: ServiceAccount</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller</span>
<span class="hljs-addition">+  namespace: openshift-pipelines</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml b/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-comment">index f3296b8e..4e58ded0 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-meta">@@ -2,6 +2,7 @@</span> apiVersion: kustomize.config.k8s.io/v1beta1
 kind: Kustomization
 resources:
   - ../../base
<span class="hljs-addition">+  - scc-rbac.yaml</span>
 patches:
   - path: tekton-chains-public-key-path.yaml
     target:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml b/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml</span>
new file mode 100644
<span class="hljs-comment">index 00000000..8d34cb07</span>
<span class="hljs-comment">--- /dev/null</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml</span>
<span class="hljs-meta">@@ -0,0 +1,31 @@</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRole</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+rules:</span>
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - security.openshift.io</span>
<span class="hljs-addition">+  resourceNames:</span>
<span class="hljs-addition">+  - appstudio-pipelines-scc</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - securitycontextconstraints</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - use</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+kind: ClusterRoleBinding</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller-konflux-scc</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+subjects:</span>
<span class="hljs-addition">+  - kind: ServiceAccount</span>
<span class="hljs-addition">+    name: tekton-pipelines-controller</span>
<span class="hljs-addition">+    namespace: openshift-pipelines</span>
<span class="hljs-addition">+roleRef:</span>
<span class="hljs-addition">+  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-addition">+  kind: ClusterRole</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner </span>
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>
<div>
<h3>4: Development changes from cd213d4c to 7e560ecd on Mon Dec 9 08:58:25 2024 </h3>  

<details> 
<summary>Git Diff (98 lines)</summary>  
<pre><code>  <span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">index 369bdce8..48661c16 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/deploy.yaml</span>
<span class="hljs-meta">@@ -122,6 +122,22 @@</span> rules:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+rules:</span>
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - security.openshift.io</span>
<span class="hljs-addition">+  resourceNames:</span>
<span class="hljs-addition">+  - appstudio-pipelines-scc</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - securitycontextconstraints</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - use</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRole</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-meta">@@ -833,6 +849,21 @@</span> subjects:
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller-konflux-scc</span>
<span class="hljs-addition">+roleRef:</span>
<span class="hljs-addition">+  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-addition">+  kind: ClusterRole</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+subjects:</span>
<span class="hljs-addition">+- kind: ServiceAccount</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller</span>
<span class="hljs-addition">+  namespace: openshift-pipelines</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRoleBinding</span>
 metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml b/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-comment">index f3296b8e..4e58ded0 100644</span>
<span class="hljs-comment">--- a/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/resources/kustomization.yaml</span>
<span class="hljs-meta">@@ -2,6 +2,7 @@</span> apiVersion: kustomize.config.k8s.io/v1beta1
 kind: Kustomization
 resources:
   - ../../base
<span class="hljs-addition">+  - scc-rbac.yaml</span>
 patches:
   - path: tekton-chains-public-key-path.yaml
     target:
<span class="hljs-comment">diff --git a/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml b/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml</span>
new file mode 100644
<span class="hljs-comment">index 00000000..8d34cb07</span>
<span class="hljs-comment">--- /dev/null</span>
<span class="hljs-comment">+++ b/components/pipeline-service/production/kflux-prd-rh02/resources/scc-rbac.yaml</span>
<span class="hljs-meta">@@ -0,0 +1,31 @@</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+kind: ClusterRole</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+rules:</span>
<span class="hljs-addition">+- apiGroups:</span>
<span class="hljs-addition">+  - security.openshift.io</span>
<span class="hljs-addition">+  resourceNames:</span>
<span class="hljs-addition">+  - appstudio-pipelines-scc</span>
<span class="hljs-addition">+  resources:</span>
<span class="hljs-addition">+  - securitycontextconstraints</span>
<span class="hljs-addition">+  verbs:</span>
<span class="hljs-addition">+  - use</span>
<span class="hljs-addition">+---</span>
<span class="hljs-addition">+kind: ClusterRoleBinding</span>
<span class="hljs-addition">+apiVersion: rbac.authorization.k8s.io/v1</span>
<span class="hljs-addition">+metadata:</span>
<span class="hljs-addition">+  name: tekton-pipelines-controller-konflux-scc</span>
<span class="hljs-addition">+  annotations:</span>
<span class="hljs-addition">+    argocd.argoproj.io/sync-wave: &quot;0&quot;</span>
<span class="hljs-addition">+subjects:</span>
<span class="hljs-addition">+  - kind: ServiceAccount</span>
<span class="hljs-addition">+    name: tekton-pipelines-controller</span>
<span class="hljs-addition">+    namespace: openshift-pipelines</span>
<span class="hljs-addition">+roleRef:</span>
<span class="hljs-addition">+  apiGroup: rbac.authorization.k8s.io</span>
<span class="hljs-addition">+  kind: ClusterRole</span>
<span class="hljs-addition">+  name: appstudio-pipelines-runner </span>
</code></pre>

</details> 

<details> 
<summary>Kustomize Generated Diff (0 lines)</summary>  
<pre><code>  
</code></pre>

</details>  

<details> 
<summary>Lint</summary>  
<pre><code>  <span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found!
<span class="hljs-attribute">KubeLinter</span> v0.<span class="hljs-number">6</span>.<span class="hljs-number">1</span>-<span class="hljs-number">0</span>-gc6177366a3

<span class="hljs-attribute">No</span> lint errors found! 
</code></pre>

</details> 
<br> 


</div>

          </div>
          <style type='text/css'>body {
    font: 400 16px/1.5 "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: #111;
    background-color: #fbfbfb;
    -webkit-text-size-adjust: 100%;
    -webkit-font-feature-settings: "kern" 1;
    -moz-font-feature-settings: "kern" 1;
    -o-font-feature-settings: "kern" 1;
    font-feature-settings: "kern" 1;
    font-kerning: normal;
    padding: 30px;
}

@media only screen and (max-width: 600px) {
    body {
        padding: 5px;
    }
    body>#content {
        padding: 0px 20px 20px 20px !important;
    }
}

body>#content {
    margin: 0px;
    max-width: 1024px;
    border: 1px solid #e1e4e8;
    padding: 10px 40px;
    padding-bottom: 20px;
    border-radius: 2px;
    margin-left: auto;
    margin-right: auto;
}

summary {
    cursor: pointer;
    text-decoration: underline;
}

hr {
    color: #bbb;
    background-color: #bbb;
    height: 1px;
    flex: 0 1 auto;
    margin: 1em 0;
    padding: 0;
    border: none;
}

.hljs-operator {
    color: #868686;
    /* There is a bug where the syntax highlighter would pick no color for e.g. `&&` symbols in the code samples. Let's overwrite this */
}


/**
 * Links
 */

a {
    color: #0366d6;
    text-decoration: none;
}

a:visited {
    color: #0366d6;
}

a:hover {
    color: #0366d6;
    text-decoration: underline;
}

pre {
    background-color: #f6f8fa;
    border-radius: 3px;
    font-size: 85%;
    line-height: 1.45;
    overflow: auto;
    padding: 16px;
}


/**
  * Code blocks
  */

code {
    background-color: rgba(27, 31, 35, .05);
    border-radius: 3px;
    font-size: 85%;
    margin: 0;
    word-wrap: break-word;
    padding: .2em .4em;
    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
}

pre>code {
    background-color: transparent;
    border: 0;
    display: inline;
    line-height: inherit;
    margin: 0;
    overflow: visible;
    padding: 0;
    word-wrap: normal;
    font-size: 100%;
}


/**
 * Blockquotes
 */

blockquote {
    margin-left: 30px;
    margin-top: 0px;
    margin-bottom: 16px;
    border-left-width: 3px;
    padding: 0 1em;
    color: #828282;
    border-left: 4px solid #e8e8e8;
    padding-left: 15px;
    font-size: 18px;
    letter-spacing: -1px;
    font-style: italic;
}

blockquote * {
    font-style: normal !important;
    letter-spacing: 0;
    color: #6a737d !important;
}


/**
 * Tables
 */

table {
    border-spacing: 2px;
    display: block;
    font-size: 14px;
    overflow: auto;
    width: 100%;
    margin-bottom: 16px;
    border-spacing: 0;
    border-collapse: collapse;
}

td {
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
}

th {
    font-weight: 600;
    padding: 6px 13px;
    border: 1px solid #dfe2e5;
}

tr {
    background-color: #fff;
    border-top: 1px solid #c6cbd1;
}

table tr:nth-child(2n) {
    background-color: #f6f8fa;
}


/**
 * Others
 */

img {
    max-width: 100%;
}

p {
    line-height: 24px;
    font-weight: 400;
    font-size: 16px;
    color: #24292e;
}

ul {
    margin-top: 0;
}

li {
    color: #24292e;
    font-size: 16px;
    font-weight: 400;
    line-height: 1.5;
}

li+li {
    margin-top: 0.25em;
}

* {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    color: #24292e;
}

a:visited {
    color: #0366d6;
}

h1,
h2,
h3 {
    border-bottom: 1px solid #eaecef;
    color: #111;
    /* Darker */
}

code>* {
    font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace !important;
}</style>
          <style type='text/css'>pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em
}
code.hljs {
  padding: 3px 5px
}
/*

Atom One Dark by Daniel Gamage
Original One Dark Syntax theme from https://github.com/atom/one-dark-syntax

base:    #282c34
mono-1:  #abb2bf
mono-2:  #818896
mono-3:  #5c6370
hue-1:   #56b6c2
hue-2:   #61aeee
hue-3:   #c678dd
hue-4:   #98c379
hue-5:   #e06c75
hue-5-2: #be5046
hue-6:   #d19a66
hue-6-2: #e6c07b

*/
.hljs {
  color: #abb2bf;
  background: #282c34
}
.hljs-comment,
.hljs-quote {
  color: #5c6370;
  font-style: italic
}
.hljs-doctag,
.hljs-keyword,
.hljs-formula {
  color: #c678dd
}
.hljs-section,
.hljs-name,
.hljs-selector-tag,
.hljs-deletion,
.hljs-subst {
  color: #e06c75
}
.hljs-literal {
  color: #56b6c2
}
.hljs-string,
.hljs-regexp,
.hljs-addition,
.hljs-attribute,
.hljs-meta .hljs-string {
  color: #98c379
}
.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-type,
.hljs-selector-class,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-number {
  color: #d19a66
}
.hljs-symbol,
.hljs-bullet,
.hljs-link,
.hljs-meta,
.hljs-selector-id,
.hljs-title {
  color: #61aeee
}
.hljs-built_in,
.hljs-title.class_,
.hljs-class .hljs-title {
  color: #e6c07b
}
.hljs-emphasis {
  font-style: italic
}
.hljs-strong {
  font-weight: bold
}
.hljs-link {
  text-decoration: underline
}</style>
        </body>
      </html>